"use strict";(self.webpackChunk_ui5_webcomponents_website=self.webpackChunk_ui5_webcomponents_website||[]).push([[1551],{32913:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var t=n(31085),i=n(71184);const a={title:"Custom Themes"},o="Creating Custom Theme",c={id:"docs/advanced/theming-part2",title:"Custom Themes",description:"The article describes the steps to manually create a custom theme for your UI5 Web Components project without any tools.",source:"@site/docs/docs/2-advanced/13-theming-part2.md",sourceDirName:"docs/2-advanced",slug:"/docs/advanced/theming-part2",permalink:"/webcomponents/docs/advanced/theming-part2",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:13,frontMatter:{title:"Custom Themes"},sidebar:"documentationSidebar",previous:{title:"UI Theme Designer",permalink:"/webcomponents/docs/advanced/theming"},next:{title:"Custom Fonts",permalink:"/webcomponents/docs/advanced/fonts"}},r={},h=[{value:"Creating a Custom Theme",id:"creating-a-custom-theme",level:2},{value:"1. Using the &quot;@sap-theming/theming-base-content&quot;",id:"1-using-the-sap-themingtheming-base-content",level:3},{value:"2. Customizing variables",id:"2-customizing-variables",level:3},{value:"3. Generating the custom CSS variables",id:"3-generating-the-custom-css-variables",level:3},{value:"Using a Custom Theme",id:"using-a-custom-theme",level:2},{value:"1. Adding the custom CSS",id:"1-adding-the-custom-css",level:3},{value:"2. Configuring the custom theme",id:"2-configuring-the-custom-theme",level:3}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"creating-custom-theme",children:"Creating Custom Theme"}),"\n",(0,t.jsx)(s.p,{children:"The article describes the steps to manually create a custom theme for your UI5 Web Components project without any tools."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)("b",{children:"Note:"}),"  We recommend using the ",(0,t.jsx)(s.code,{children:"UI Theme Designer"})," tool to effortlessly create a custom theme for your UI5 Web Components project as described in the ",(0,t.jsx)(s.a,{href:"/webcomponents/docs/advanced/theming",children:"Custom Theming with UI Theme Designer"})," article.\nHowever, it requires SAP BTP account and configuration in the SAP BTP Cockpit. In case you don't have access to the UI Theme Designer, this article is for you."]}),"\n",(0,t.jsx)(s.h1,{id:"preface",children:"Preface"}),"\n",(0,t.jsx)(s.p,{children:"The theming of the UI5 Web Components is based entirely on CSS variables. Switching between themes means changing the values of these CSS Variables. Applying a custom theme means setting custom values for these CSS Variables."}),"\n",(0,t.jsxs)(s.p,{children:["The CSS variables (used by the UI5 Web Components) are maintained in the ",(0,t.jsx)(s.a,{href:"https://github.com/SAP/theming-base-content",children:"theming-base-content"})," project and available also on NPM: ",(0,t.jsx)(s.a,{href:"https://www.npmjs.com/package/@sap-theming/theming-base-content",children:"@sap-theming/theming-base-content"}),". The great thing is that they are backward compatible - new variables may be added, but old are kept and could be safely used.\nFor instance, you can explore the ",(0,t.jsx)(s.a,{href:"https://github.com/SAP/theming-base-content/blob/master/content/Base/baseLib/sap_horizon/css_variables.css",children:"Morning Horizon CSS Variables"}),'. These are exactly the CSS variables being applied when the theme is set to Morning Horizon("sap_horizon").']}),"\n",(0,t.jsx)(s.p,{children:"So far we have the ingredients - the CSS variables. Now, we need to learn what's the easiest way to change them."}),"\n",(0,t.jsxs)(s.p,{children:["At this point, you may ask, can't I just copy the ",(0,t.jsx)(s.a,{href:"https://github.com/SAP/theming-base-content/blob/master/content/Base/baseLib/sap_horizon/css_variables.css",children:"Morning Horizon CSS Variables"}),",\nchange some of the values and finally include the CSS file in my app? And, the answer is yes - you can do that and it will work. Whatever CSS variables you change, the changes will take effect. However, this is not the most effective way."]}),"\n",(0,t.jsxs)(s.p,{children:["Instead, it's best to change the source ",(0,t.jsx)(s.code,{children:".less"})," file (also available in ",(0,t.jsx)(s.a,{href:"https://github.com/SAP/theming-base-content/blob/master/content/Base/baseLib/sap_horizon/css_variables.less",children:"theming-base-content"}),"), change some ",(0,t.jsx)(s.code,{children:"Less"})," variables and compile it to CSS. Let's see how this could be implemented."]}),"\n",(0,t.jsx)(s.h2,{id:"creating-a-custom-theme",children:"Creating a Custom Theme"}),"\n",(0,t.jsx)(s.h3,{id:"1-using-the-sap-themingtheming-base-content",children:'1. Using the "@sap-theming/theming-base-content"'}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Create a blank project."}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"mkdir create-custom-theme\ncd create-custom-theme\nnpm init\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Install ",(0,t.jsx)(s.code,{children:"@sap-theming/theming-base-content"})," from NPM to get the source ",(0,t.jsx)(s.code,{children:".less"})," files of the themes we are going to extend."]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"npm install @sap-theming/theming-base-content\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Create a single less file ",(0,t.jsx)(s.code,{children:"src/mytheme.less"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Import source less file of ",(0,t.jsx)(s.code,{children:"sap_horizon"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-less",children:'// src/mytheme.less\n\n@import "../../node_modules/@sap-theming/theming-base-content/content/Base/baseLib/sap_horizon/css_variables.less";\n'})}),"\n",(0,t.jsx)(s.h3,{id:"2-customizing-variables",children:"2. Customizing variables"}),"\n",(0,t.jsxs)(s.p,{children:["You are free to change the values of as many variables as you want.\nHowever, we mostly recommend changing the main ones ",(0,t.jsx)(s.code,{children:"sapPrimary1"})," - ",(0,t.jsx)(s.code,{children:"sapPrimary7"})," as most of the variables are derived from them."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-less",children:'// src/mytheme.less\n@import "@sap-theming/theming-base-content/content/Base/baseLib/sap_horizon/css_variables.less";\n\n@sapPrimary1: violet;\n@sapPrimary2: violet;\n'})}),"\n",(0,t.jsx)(s.h3,{id:"3-generating-the-custom-css-variables",children:"3. Generating the custom CSS variables"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Install ",(0,t.jsx)(s.code,{children:"less"})," to compile ",(0,t.jsx)(s.code,{children:"less"})," to ",(0,t.jsx)(s.code,{children:"css"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"npm install less --save-dev\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Create a simple script in the project's root, called ",(0,t.jsx)(s.code,{children:"customtheme.js"})]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const less = require('less');\nconst fs = require('fs');\n\nconst themeName =  \"mytheme\";\nconst baseThemeName = \"sap_horizon\";\n\nconst CUSTOM_THEME_METADATA = `\n.sapThemeMetaData-Base-baseLib {\n\tbackground-image: url('data:text/plain;utf-8, { \"Path\": \"Base.baseLib.${themeName}.css_variables\", \"Extends\": [\"${baseThemeName}\",\"baseTheme\"]}');\n}`;\n\nasync function compileLess(inputFile, outputFile) {\n\tif (!fs.existsSync(\"dist\")) {\n\t\tfs.mkdirSync(\"dist\");\n\t}\n\n    try {\n      const lessData = await fs.promises.readFile(inputFile, 'utf-8');\n\n      const { css } = await less.render(lessData, {\n         filename: inputFile\n      });\n      const output = `${CUSTOM_THEME_METADATA} ${css}`;\n\n      await fs.promises.writeFile(outputFile, output, {encoding:'utf8',flag:'w'});\n      console.log(`Successfully compiled Less file ${inputFile} to CSS file ${outputFile}`);\n\n    } catch (error) {\n      console.error('Error compiling Less:', error);\n    }\n}\n\ncompileLess('src/mytheme.less', 'dist/mytheme.css');\n"})}),"\n",(0,t.jsxs)(s.p,{children:["The script runs the ",(0,t.jsx)(s.code,{children:"less"})," compiler over the ",(0,t.jsx)(s.code,{children:".less"})," file (",(0,t.jsx)(s.code,{children:"src/mytheme.less"}),") to produce a ",(0,t.jsx)(s.code,{children:".css"})," out of it (",(0,t.jsx)(s.code,{children:"dist/mytheme.css"}),")\nand adds a small piece of metadata (see ",(0,t.jsx)(s.code,{children:"CUSTOM_THEME_METADATA"})," variable), required by the UI5 Web Components framework to detect the custom theme."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Create a task in the ",(0,t.jsx)(s.code,{children:"package.json"})," for convenience"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'"scripts": {\n    "build:theme": "node customtheme.js"\n}\n'})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Run the task"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"npm run build:theme\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsxs)(s.strong,{children:["That's it! The task outputs the CSS variables into the ",(0,t.jsx)(s.code,{children:"dist/mytheme.css"})," file."]})}),"\n",(0,t.jsx)(s.h2,{id:"using-a-custom-theme",children:"Using a Custom Theme"}),"\n",(0,t.jsx)(s.h3,{id:"1-adding-the-custom-css",children:"1. Adding the custom CSS"}),"\n",(0,t.jsx)(s.p,{children:"Now that you have generated the custom CSS, you need to add it to your project."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["The simplest option would be to use a ",(0,t.jsx)(s.code,{children:"<link>"})," tag and point to the file:"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-html",children:'<link rel="stylesheet" type="text/css" href="<path-to-your-css-file>/mytheme.css">\n'})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Or, use ",(0,t.jsx)(s.code,{children:"<style>"})," tag and paste the content of ",(0,t.jsx)(s.code,{children:"mytheme.css"})," inside:"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-html",children:"<style>\n         /* Here goes the content of mytheme.css */\n</style>\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Most of the modern build tools know how to handle CSS imports and could add the imported CSS file content as ",(0,t.jsx)(s.code,{children:"style"})," tag for us:"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-ts",children:'import "<path-to-your-css-file>/mytheme.css";\n'})}),"\n",(0,t.jsx)(s.h3,{id:"2-configuring-the-custom-theme",children:"2. Configuring the custom theme"}),"\n",(0,t.jsx)(s.p,{children:"In the previous step we loaded the CSS, now we only need to set it to the UI5 Web Components.\nTo do so, you can use one of the standard APIs for setting a theme:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["With URL parameter: ",(0,t.jsx)(s.code,{children:"index.html?sap-ui-theme=mytheme"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"With JS API:"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-ts",children:'import { getTheme, setTheme } from "@ui5/webcomponents-base/dist/config/Theme.js";\n\nsetTheme("mytheme");\n'})}),"\n",(0,t.jsx)(s.h1,{id:"resources",children:"Resources"}),"\n",(0,t.jsxs)(s.p,{children:["Everything said so far is implemented in the following demo project - ",(0,t.jsx)(s.a,{href:"https://github.com/ilhan007/ui5-webcomponents-custom-theme/",children:"ui5-webcomponents-custom-theme"}),".\nThe project implements the script for producing the custom CSS vars and provides a simple test page to demonstrate the custom theme usage."]})]})}function d(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},71184:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var t=n(14041);const i={},a=t.createContext(i);function o(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);