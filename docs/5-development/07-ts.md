# Typescript development


## Metadata

### Decorators

We use decorators to describe metadata.

List of all available decorators:

```ts
import customElement from "@ui5/webcomponents-base/dist/decorators/customElement.js";
import property from "@ui5/webcomponents-base/dist/decorators/property.js";
import slot from "@ui5/webcomponents-base/dist/decorators/slot.js";
import event from "@ui5/webcomponents-base/dist/decorators/event.js";
import languageAware from "@ui5/webcomponents-base/dist/decorators/languageAware.js";
import themeAware from "@ui5/webcomponents-base/dist/decorators/themeAware.js";
import fastNavigation from "@ui5/webcomponents-base/dist/decorators/fastNavigation.js";
```

### Types of decorators

#### Class decorators

These are used **above** the class declaration and describe the class

```ts
import customElement from "@ui5/webcomponents-base/dist/decorators/customElement.js";
import event from "@ui5/webcomponents-base/dist/decorators/event.js";
import languageAware from "@ui5/webcomponents-base/dist/decorators/languageAware.js";
import themeAware from "@ui5/webcomponents-base/dist/decorators/themeAware.js";
import fastNavigation from "@ui5/webcomponents-base/dist/decorators/fastNavigation.js";
```

Example:

```ts
@customElement("ui5-menu")
@event("item-click", {
    detail: {
        item: {
            type: Object,
        },
        text: {
            type: String,
        },
    },
})

```

#### Property decorators

These are used **inside** the class and are associated with accessors (class members)

```ts
import property from "@ui5/webcomponents-base/dist/decorators/property.js";
import slot from "@ui5/webcomponents-base/dist/decorators/slot.js";
```

Example:

```ts
@property({ type: Boolean })
open!:boolean;
```

### Rules about defining properties (`@property`)

 - `type: String` is by default, no need to explicitly write it

```ts
/**
 * Defines the header text of the menu (displayed on mobile).
 *
 * @name sap.ui.webc.main.Menu.prototype.headerText
 * @type {string}
 * @defaultvalue ""
 * @public
 */
@property()
headerText!: string;
```

 - use Typescript `enum` for enums (do not extend `DataType`)

```ts
/**
 * Defines the component design.
 *
 * <br><br>
 * <b>The available values are:</b>
 *
 * <ul>
 * <li><code>Default</code></li>
 * <li><code>Emphasized</code></li>
 * <li><code>Positive</code></li>
 * <li><code>Negative</code></li>
 * <li><code>Transparent</code></li>
 * <li><code>Attention</code></li>
 * </ul>
 *
 * @type {sap.ui.webc.main.types.ButtonDesign}
 * @name sap.ui.webc.main.Button.prototype.design
 * @defaultvalue "Default"
 * @public
 */
@property({ type: ButtonDesign, defaultValue: ButtonDesign.Default })
design!: ButtonDesign;
```

 - use `validator` instead of `type` for `DataType` descendants (although `type` still works for compatibility) 

```ts
/**
 * Defines component's timestamp.
 * <b>Note:</b> set by the Calendar component
 * @type {sap.ui.webc.base.types.Integer}
 * @name sap.ui.webc.main.CalendarHeader.prototype.timestamp
 * @public
 */
@property({ validator: Integer })
timestamp?: number;
```

This is preferable so that there is no confusion with the actual Typescript type (i.e. `number` in this example)

- **Very important:** set the `@name` JSDoc annotation **for all public properties** as JSDoc cannot associate the JSDoc comment with the property in the code.
This will not be necessary once we've switched to TypeDoc.

- Use `?` for all metadata properties that may be `undefined`, and `!` for all other metadata properties. *Never initialize metadata properties in the constructor*. 

As a rule of thumb, `String` properties are always defined with `!` unless you specifically set `defaultValue: undefined` and `validator`
properties are always defined with `?` unless you specify a default value. `Boolean` properties are always defined with `!` as they
always have a default value of `false`.

### What about `managedSlots`?

There isn't a decorator for `managedSlots` (unlike for all other metadata entities). It is set automatically when you use
at least one `@slot` decorator.
