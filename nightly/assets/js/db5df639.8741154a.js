"use strict";(self.webpackChunk_ui5_webcomponents_website=self.webpackChunk_ui5_webcomponents_website||[]).push([[6622],{68506:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var s=t(31085),o=t(71184);const i={},r="Definition of Done",l={id:"docs/contributing/DoD",title:"Definition of Done",description:"This document provides a checklist for the most common pitfalls, encountered by developers",source:"@site/docs/docs/5-contributing/03-DoD.md",sourceDirName:"docs/5-contributing",slug:"/docs/contributing/DoD",permalink:"/webcomponents/nightly/docs/contributing/DoD",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Conventions and Guidelines",permalink:"/webcomponents/nightly/docs/contributing/conventions-and-guidelines"},next:{title:"Running the Website",permalink:"/webcomponents/nightly/docs/contributing/website"}},c={},a=[{value:"Properties",id:"properties",level:2},{value:"Events",id:"events",level:2},{value:"CSS",id:"css",level:2},{value:"Scoping-friendly/multiple-framework-safe code",id:"scoping-friendlymultiple-framework-safe-code",level:2},{value:"Testing",id:"testing",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"definition-of-done",children:"Definition of Done"}),"\n",(0,s.jsx)(n.p,{children:"This document provides a checklist for the most common pitfalls, encountered by developers\nwhen creating/updating UI5 Web Components."}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Do I ",(0,s.jsx)(n.strong,{children:"change public properties"})," without user interaction?"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Public properties belong to the application. Usually applications bind components' properties to a model.\nIf a component changes its own public properties arbitrarily, the application model may get out of sync. Public properties\nmay only be changed internally upon user interaction (in combination with firing an event)."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Have I set ",(0,s.jsx)(n.strong,{children:"noAttribute"})," for private properties that are not used for CSS?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["To keep the components' DOM simple, it's highly recommended to set ",(0,s.jsx)(n.code,{children:"noAttribute: true"})," for all private\nproperties that are not needed for CSS rules."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Does my ",(0,s.jsx)(n.strong,{children:"CSS handle the default values for enum properties"}),"?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If a component is styled differently according to the value of an enum property, do not forget to write\nyour CSS in a way that will apply the default styling even when the property is not set. For example,\nif you have a ",(0,s.jsx)(n.code,{children:"priority"})," enum with values ",(0,s.jsx)(n.code,{children:"Normal"})," (default) and ",(0,s.jsx)(n.code,{children:"Important"}),", do not apply the default styles just for\n",(0,s.jsx)(n.code,{children:':host[priority="Normal"]'}),", but also for simply ",(0,s.jsx)(n.code,{children:":host"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Do I ",(0,s.jsx)(n.strong,{children:"fire an event"})," upon every user interaction?"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"When the user interacts with a component, an event\nmust always be fired to notify the application of state changes, so that it can update its models."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Do I ",(0,s.jsx)(n.strong,{children:"allow the application to prevent"})," the default behavior of my events?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Sometimes it makes sense to allow the application to call ",(0,s.jsx)(n.code,{children:"preventDefault()"}),' on en event -\ne.g. if there are reasonable conditions that must be met to "allow" the user interaction. In other cases,\nthis is not necessary and making an event preventable would create unexpected user experience.\nConsider what makes the most sense in your particular use case.']}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Did I ",(0,s.jsx)(n.strong,{children:"describe my event's details"}),"?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["If an event that your component fires has event details, you should create a Typescript type, use it in the ",(0,s.jsx)(n.code,{children:"@event"})," decorator,\nuse it with ",(0,s.jsx)(n.code,{children:"fireEvent"})," or ",(0,s.jsx)(n.code,{children:"fireDecoratorEvent"}),", and finally, export it as a named type export."]}),"\n",(0,s.jsx)(n.h2,{id:"css",children:"CSS"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Did I put all ",(0,s.jsx)(n.strong,{children:"overstyling-relevant CSS properties on the host"}),"?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["It's best to style the ",(0,s.jsx)(n.code,{children:":host"})," (rather than the shadow root) as much as possible (especially for paddings, margins, borders, etc.)\nso that apps can overstyle the component (in reasonable measure)."]}),"\n",(0,s.jsx)(n.h2,{id:"scoping-friendlymultiple-framework-safe-code",children:"Scoping-friendly/multiple-framework-safe code"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Have I ",(0,s.jsx)(n.strong,{children:"hard-coded"})," tag names in my ",(0,s.jsx)(n.code,{children:".css"})," or ",(0,s.jsx)(n.code,{children:".ts"})," files?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Having CSS selectors by tag, such as ",(0,s.jsx)(n.code,{children:"ui5-button.accept-btn { color: green; }"})," is not scoping-friendly, because tag names\nmay vary. Use the attribute notation: ",(0,s.jsx)(n.code,{children:"[ui5-button].accept-btn { color: green; }"})," instead."]}),"\n",(0,s.jsxs)(n.p,{children:["Similarly, if you have code such as ",(0,s.jsx)(n.code,{children:'this.shadowRoot.querySelector("ui5-popover")'}),",\nchange it to: ",(0,s.jsx)(n.code,{children:'this.shadowRoot.querySelector("[ui5-popover]")'}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Have I ",(0,s.jsx)(n.strong,{children:"imported all icons"})," that my component uses?"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The test bundle imports all icons by default, but in a real-world scenario only icons imported by the app will be available.\nTherefore, each component should explicitly import the icons it needs."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Have I ",(0,s.jsx)(n.strong,{children:"used instanceof"})," checks for UI5 Elements?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Checks such as ",(0,s.jsx)(n.code,{children:"btn instanceof Button"})," or ",(0,s.jsx)(n.code,{children:"el instanceof UI5Element"})," are not safe,\nbecause when multiple versions of UI5 Web Components are on the same HTML page, the first to boot will upgrade\nall tags, and ",(0,s.jsx)(n.code,{children:"instanceof"})," checks will only work with the first framework's classes and fail for all others.\nTherefore, you must use ",(0,s.jsx)(n.em,{children:"duck-typing"})," instead of hard ",(0,s.jsx)(n.code,{children:"instanceof"})," checks."]}),"\n",(0,s.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Are my tests ",(0,s.jsx)(n.strong,{children:"reloading the page unnecessarily"}),"?"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Calling ",(0,s.jsx)(n.code,{children:"await browser.url()"}),' too often just to "reset" your test setup is suboptimal and makes the\nwhole build slower in the long run. Try to add new assertions to existing tests whenever it makes sense.']}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Are my tests ",(0,s.jsx)(n.strong,{children:"really testing my code"}),"?"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:'Tests that verify things such as "setting a property creates a corresponding attribute" actually test the framework,\nand not the component that is being developed, and are therefore not necessary.'})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},71184:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var s=t(14041);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);