"use strict";(self.webpackChunk_ui5_webcomponents_website=self.webpackChunk_ui5_webcomponents_website||[]).push([[8218],{74775:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>o});var s=t(31085),i=t(71184);const r={title:"Drag and Drop"},a="Drag and Drop",l={id:"docs/advanced/drag-and-drop",title:"Drag and Drop",description:"UI5 Web Components has built-in drag and drop for lists, trees, tables, and tabs. This guide shows you how to use it.",source:"@site/docs/docs/2-advanced/17-drag-and-drop.md",sourceDirName:"docs/2-advanced",slug:"/docs/advanced/drag-and-drop",permalink:"/webcomponents/nightly/docs/advanced/drag-and-drop",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:17,frontMatter:{title:"Drag and Drop"},sidebar:"documentationSidebar",previous:{title:"TypeScript Support",permalink:"/webcomponents/nightly/docs/advanced/typescript-support"},next:{title:"Usage with Frameworks",permalink:"/webcomponents/nightly/docs/frameworks/"}},d={},o=[{value:"Supported Components",id:"supported-components",level:2},{value:"Lists and Trees",id:"lists-and-trees",level:3},{value:"Tables",id:"tables",level:3},{value:"Tab Containers",id:"tab-containers",level:3},{value:"Other Components",id:"other-components",level:3},{value:"Basic Setup",id:"basic-setup",level:2},{value:"Make List Items Draggable",id:"make-list-items-draggable",level:3},{value:"Handle Drag Events",id:"handle-drag-events",level:3},{value:"<code>move-over</code> Event",id:"move-over-event",level:4},{value:"<code>move</code> Event",id:"move-event",level:4},{value:"Event Details",id:"event-details",level:2},{value:"Where Items Can Go",id:"where-items-can-go",level:3},{value:"Multiple Item Drag",id:"multiple-item-drag",level:2},{value:"Enable Multiple Selection",id:"enable-multiple-selection",level:3},{value:"Handle Multiple Item Drag",id:"handle-multiple-item-drag",level:3},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Custom Drag Images",id:"custom-drag-images",level:3},{value:"Conditional Drag and Drop",id:"conditional-drag-and-drop",level:3},{value:"Drag Between Lists",id:"drag-between-lists",level:3},{value:"DragRegistry API",id:"dragregistry-api",level:2},{value:"DragRegistry Methods",id:"dragregistry-methods",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Validate Drop Operations",id:"1-validate-drop-operations",level:3},{value:"2. Handle Edge Cases",id:"2-handle-edge-cases",level:3},{value:"3. Make It Accessible",id:"3-make-it-accessible",level:3},{value:"TypeScript Support",id:"typescript-support",level:2},{value:"Browser Support",id:"browser-support",level:2}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"drag-and-drop",children:"Drag and Drop"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"UI5 Web Components has built-in drag and drop for lists, trees, tables, and tabs. This guide shows you how to use it."})}),"\n",(0,s.jsx)(n.p,{children:"You can drag items to reorder them or move them between components. The framework handles visual feedback and multiple selection for you."}),"\n",(0,s.jsx)(n.h2,{id:"supported-components",children:"Supported Components"}),"\n",(0,s.jsx)(n.p,{children:"These components support drag and drop:"}),"\n",(0,s.jsx)(n.h3,{id:"lists-and-trees",children:"Lists and Trees"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-list"})," - Lists with movable items"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-li"})," - List items you can drag"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-li-custom"})," - Custom list items you can drag"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-tree"})," - Trees with movable items"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-tree-item"})," - Tree items you can drag"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-tree-item-custom"})," - Custom tree items you can drag"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"tables",children:"Tables"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-table"})," - Tables with movable rows"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-table-row"})," - Table rows you can drag"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"tab-containers",children:"Tab Containers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-tab-container"})," - Tab containers with movable tabs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-tab"})," - Tabs you can drag"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"other-components",children:"Other Components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ui5-li-group"})," - List groups that support drag events"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,s.jsx)(n.h3,{id:"make-list-items-draggable",children:"Make List Items Draggable"}),"\n",(0,s.jsxs)(n.p,{children:["Set the ",(0,s.jsx)(n.code,{children:"movable"})," property to ",(0,s.jsx)(n.code,{children:"true"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<ui5-list id="myList" header-text="Draggable Items">\n    <ui5-li movable>Item 1</ui5-li>\n    <ui5-li movable>Item 2</ui5-li>\n    <ui5-li movable>Item 3</ui5-li>\n</ui5-list>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"handle-drag-events",children:"Handle Drag Events"}),"\n",(0,s.jsx)(n.p,{children:"Lists fire two events for drag operations:"}),"\n",(0,s.jsxs)(n.h4,{id:"move-over-event",children:[(0,s.jsx)(n.code,{children:"move-over"})," Event"]}),"\n",(0,s.jsx)(n.p,{children:"This fires when you drag an item over a drop target. Use it to validate if the drop is allowed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'list.addEventListener("ui5-move-over", (event) => {\n    const { source, destination } = event.detail;\n    \n    // Allow drop before or after items\n    if (destination.placement === "Before" || destination.placement === "After") {\n        event.preventDefault(); // Allow the drop\n    }\n    \n    // Conditionally allow nesting\n    if (destination.placement === "On" && destination.element.dataset.allowsNesting) {\n        event.preventDefault();\n    }\n});\n'})}),"\n",(0,s.jsxs)(n.h4,{id:"move-event",children:[(0,s.jsx)(n.code,{children:"move"})," Event"]}),"\n",(0,s.jsxs)(n.p,{children:["This fires when you drop an item. It only fires if you prevented the default action in the ",(0,s.jsx)(n.code,{children:"move-over"})," event:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'list.addEventListener("ui5-move", (event) => {\n    const { source, destination } = event.detail;\n    \n    switch (destination.placement) {\n        case "Before":\n            destination.element.before(source.element);\n            break;\n        case "After":\n            destination.element.after(source.element);\n            break;\n        case "On":\n            destination.element.prepend(source.element);\n            break;\n    }\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"event-details",children:"Event Details"}),"\n",(0,s.jsx)(n.p,{children:"Both events give you this information:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'{\n    source: {\n        element: HTMLElement  // The element being dragged\n    },\n    destination: {\n        element: HTMLElement,     // The target element\n        placement: "Before" | "After" | "On"  // Where the item should be placed\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"where-items-can-go",children:"Where Items Can Go"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"Before"})}),": Place the item before the target"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"After"})}),": Place the item after the target"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"On"})}),": Place the item inside the target (for nesting)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"multiple-item-drag",children:"Multiple Item Drag"}),"\n",(0,s.jsx)(n.p,{children:"You can drag multiple selected items at once when using lists with multiple selection."}),"\n",(0,s.jsx)(n.h3,{id:"enable-multiple-selection",children:"Enable Multiple Selection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<ui5-list selection-mode="Multiple">\n    <ui5-li movable>Item 1</ui5-li>\n    <ui5-li movable>Item 2</ui5-li>\n    <ui5-li movable>Item 3</ui5-li>\n</ui5-list>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"handle-multiple-item-drag",children:"Handle Multiple Item Drag"}),"\n",(0,s.jsx)(n.p,{children:"When you select multiple items and drag one of them, all selected items move together:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import { startMultipleDrag } from "@ui5/webcomponents-base/dist/DragAndDrop.js";\n\nlist.addEventListener("dragstart", (event) => {\n    const selectedItems = list.getItems().filter(item => item.selected);\n    const draggedItem = event.target;\n    \n    // If dragged item is not selected, select only it\n    if (!draggedItem.selected) {\n        selectedItems.forEach(item => item.selected = false);\n        draggedItem.selected = true;\n    }\n    \n    const currentSelected = list.getItems().filter(item => item.selected);\n    \n    // Start multiple drag if more than one item is selected\n    if (currentSelected.length > 1) {\n        startMultipleDrag(currentSelected.length, event);\n    }\n});\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Remember to move the selected items in the ",(0,s.jsx)(n.code,{children:"move"})," event instead of just the dragged item:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function handleMove(event) {\n    const { source, destination } = event.detail;\n    \n    // Get the source list to find all selected items\n    const sourceList = source.element.closest('ui5-list');\n    const selectedItems = sourceList.getItems().filter(item => item.selected);\n    \n    // Determine which items to move: all selected items or just the dragged item\n    const itemsToMove = selectedItems.length > 1 && selectedItems.includes(source.element) \n        ? selectedItems \n        : [source.element];\n    \n    // Move the items using spread operator\n    switch (destination.placement) {\n        case MovePlacement.Before:\n            destination.element.before(...itemsToMove);\n            break;\n        case MovePlacement.After:\n            destination.element.after(...itemsToMove);\n            break;\n        case MovePlacement.On:\n            destination.element.prepend(...itemsToMove);\n            break;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,s.jsx)(n.h3,{id:"custom-drag-images",children:"Custom Drag Images"}),"\n",(0,s.jsx)(n.p,{children:"You can create custom drag images for better visual feedback:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:".drag-image {\n    background: linear-gradient(135deg, #8b5cf6, #a855f7);\n    border: 2px solid #7c3aed;\n    border-radius: 0.5rem;\n    padding: 1rem 1.5rem;\n    color: white;\n    font-weight: 600;\n    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);\n    white-space: nowrap;\n    position: absolute;\n    top: -1000px; /* Hide off-screen */\n    left: -1000px; /* Hide off-screen */\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then create a custom drag image element in JavaScript:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'function createCustomDragImage(count) {\n    const element = document.createElement("div");\n    element.innerHTML = `\n        <div class="drag-image">\n            ${count} Items\n        </div>\n    `;\n    document.body.appendChild(element);\n    return element;\n}\n\nlist.addEventListener("dragstart", (event) => {\n    const selectedItems = list.getItems().filter(item => item.selected);\n    if (selectedItems.length > 1) {\n        const dragElement = createCustomDragImage(selectedItems.length);\n        event.dataTransfer.setDragImage(dragElement, 30, 15);\n        \n        // Clean up after drag starts\n        requestAnimationFrame(() => {\n            if (dragElement.parentNode) {\n                dragElement.parentNode.removeChild(dragElement);\n            }\n        });\n    }\n});\n'})}),"\n",(0,s.jsx)(n.h3,{id:"conditional-drag-and-drop",children:"Conditional Drag and Drop"}),"\n",(0,s.jsx)(n.p,{children:"You can control which items accept drops based on their properties:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'// Mark certain items as fixed (non-movable)\nlist.addEventListener("ui5-move-over", (event) => {\n    const { destination } = event.detail;\n    \n    // Prevent dropping on fixed items\n    if (destination.element.dataset.fixed) {\n        return; // Don\'t prevent default, disallow drop\n    }\n    \n    event.preventDefault(); // Allow drop\n});\n'})}),"\n",(0,s.jsx)(n.h3,{id:"drag-between-lists",children:"Drag Between Lists"}),"\n",(0,s.jsx)(n.p,{children:"You can drag items between different lists:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const list1 = document.getElementById("list1");\nconst list2 = document.getElementById("list2");\n\nfunction handleCrossListMove(event) {\n    const { source, destination } = event.detail;\n    \n    // Allow drops from other lists\n    if (!event.currentTarget.contains(source.element)) {\n        event.preventDefault();\n    }\n}\n\nlist1.addEventListener("ui5-move-over", handleCrossListMove);\nlist2.addEventListener("ui5-move-over", handleCrossListMove);\n\n// Handle the actual move\n[list1, list2].forEach(list => {\n    list.addEventListener("ui5-move", (event) => {\n        const { source, destination } = event.detail;\n        \n        switch (destination.placement) {\n            case "Before":\n                destination.element.before(source.element);\n                break;\n            case "After":\n                destination.element.after(source.element);\n                break;\n        }\n    });\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"dragregistry-api",children:"DragRegistry API"}),"\n",(0,s.jsx)(n.p,{children:"For advanced cases, use the DragRegistry API to control multiple drag operations programmatically:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'import { startMultipleDrag } from "@ui5/webcomponents-base/dist/DragAndDrop.js";\n\n// Start a multiple drag operation\nstartMultipleDrag(itemCount, dragEvent);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"dragregistry-methods",children:"DragRegistry Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"startMultipleDrag(count: number, e: DragEvent)"})}),": Starts a multiple drag operation with a custom ghost showing the item count"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-validate-drop-operations",children:"1. Validate Drop Operations"}),"\n",(0,s.jsxs)(n.p,{children:["Always check if drops are valid in the ",(0,s.jsx)(n.code,{children:"move-over"})," event:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'list.addEventListener("ui5-move-over", (event) => {\n    const { source, destination } = event.detail;\n    \n    // Example: Prevent dropping item on itself\n    if (source.element === destination.element) {\n        return;\n    }\n    \n    // Example: Check business logic\n    if (isValidDrop(source.element, destination.element)) {\n        event.preventDefault();\n    }\n});\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-handle-edge-cases",children:"2. Handle Edge Cases"}),"\n",(0,s.jsx)(n.p,{children:"Think about fixed items, disabled states, and loading states:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"list.addEventListener(\"ui5-move-over\", (event) => {\n    const { destination, source } = event.detail;\n    \n    // Don't allow drops during loading\n    if (list.loading) {\n        return;\n    }\n    \n    // Don't allow drops on disabled items\n    if (destination.element.disabled) {\n        return;\n    }\n    \n    event.preventDefault();\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-make-it-accessible",children:"3. Make It Accessible"}),"\n",(0,s.jsx)(n.p,{children:"Make sure drag and drop works for everyone:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Add keyboard alternatives for drag and drop operations"}),"\n",(0,s.jsx)(n.li,{children:"Use proper ARIA labels and descriptions"}),"\n",(0,s.jsx)(n.li,{children:"Announce drag operations to screen readers"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"typescript-support",children:"TypeScript Support"}),"\n",(0,s.jsx)(n.p,{children:"When using TypeScript, import the right types:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import type { ListMoveEventDetail } from "@ui5/webcomponents/dist/List.js";\n\nconst handleMove = (event: CustomEvent<ListMoveEventDetail>) => {\n    const { source, destination } = event.detail;\n    // Type-safe access to event details\n};\n'})}),"\n",(0,s.jsx)(n.h2,{id:"browser-support",children:"Browser Support"}),"\n",(0,s.jsx)(n.p,{children:"Drag and drop works in all modern browsers that support the HTML5 Drag and Drop API. Older browsers fall back to basic mouse interactions."})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},71184:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(14041);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);