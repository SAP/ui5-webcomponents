"use strict";import m from"../getSharedResource.js";import{getIconCollectionByAlias as d}from"./util/IconCollectionsAlias.js";import{registerIconCollectionForTheme as h}from"./util/IconCollectionsByTheme.js";import I from"./util/getIconCollectionByTheme.js";import{getI18nBundle as T}from"../i18nBundle.js";const w="legacy",s=new Map,c=m("SVGIcons.registry",new Map),i=m("SVGIcons.promises",new Map),l="ICON_NOT_FOUND",C=(e,t)=>{s.set(e,t)},N=async e=>{if(!i.has(e)){if(!s.has(e))throw new Error(`No loader registered for the ${e} icons collection. Probably you forgot to import the "AllIcons.js" module for the respective package.`);const t=s.get(e);i.set(e,t(e))}return i.get(e)},f=e=>{Object.keys(e.data).forEach(t=>{const a=e.data[t];y(t,{pathData:a.path||a.paths,ltr:a.ltr,accData:a.acc,collection:e.collection,packageName:e.packageName})})},y=(e,t)=>{const a=`${t.collection}/${e}`,o={collection:t.collection,packageName:t.packageName,pathData:t.pathData,viewBox:t.viewBox,ltr:t.ltr,accData:t.accData,customTemplate:t.customTemplate};c.set(a,o)},k=(e,t)=>{const a=`${t.collection}/${e}`,o={collection:t.collection,customTemplateAsString:t.customTemplateAsString,packageName:t.packageName,viewBox:t.viewBox,ltr:t.ltr,accData:t.accData};c.set(a,o)},u=e=>{e.startsWith("sap-icon://")&&(e=e.replace("sap-icon://",""));let t;return[e,t]=e.split("/").reverse(),e=e.replace("icon-",""),t&&(t=d(t)),{name:e,collection:t}},D=e=>{const{name:t,collection:a}=u(e);return g(a,t)},n=async e=>{const{name:t,collection:a}=u(e);let o=l;try{o=await N(I(a))}catch(r){console.error(r.message)}if(o===l)return o;const p=g(a,t);return p||(Array.isArray(o)?o.forEach(r=>{f(r),h(a,{[r.themeFamily||w]:r.collection})}):f(o),g(a,t))},g=(e,t)=>{const a=`${I(e)}/${t}`;return c.get(a)},A=async e=>{if(!e)return;let t=D(e);if(t||(t=await n(e)),t&&t!==l&&t.accData)return t.packageName?(await T(t.packageName)).getText(t.accData):t.accData?.defaultText||""},x=async()=>(await n("edit"),await n("tnt/arrow"),await n("business-suite/3d"),Array.from(c.keys()));export{C as registerIconLoader,n as getIconData,D as getIconDataSync,A as getIconAccessibleName,y as registerIcon,k as unsafeRegisterIcon,x as _getRegisteredNames};
//# sourceMappingURL=Icons.js.map
