import { action } from "@storybook/addon-actions";
import { Story, Preview, ArgsTable } from "@storybook/addon-docs";
import { html } from "lit-html";
import { ifDefined } from "lit-html/directives/if-defined.js";
import { unsafeHTML } from "lit-html/directives/unsafe-html.js";

import argTypes from "./argsTypes.js";
import Description from "./Description.md";

<Meta title="Components/List" component="ui5-list" argTypes={argTypes} />

export const Template = (args) => {
  return html` <ui5-list
    accessible-name="${ifDefined(args.accessibleName)}"
    accessible-role="${ifDefined(args.accessibleRole)}"
    ?indent="${ifDefined(args.indent)}"
    ?busy="${ifDefined(args.busy)}"
    ?growing="${ifDefined(args.growing)}"
    busy-delay="${ifDefined(args.busyDelay)}"
    header-text="${ifDefined(args.headerText)}"
    footer-text="${ifDefined(args.footerText)}"
    no-data-text="${ifDefined(args.noDataText)}"
    separators="${ifDefined(args.separators)}"
    mode="${ifDefined(args.mode)}"
    @ui5-selection-change="${ifDefined(args["ui5-selection-change"])}"
    @ui5-item-click="${ifDefined(args["ui5-item-click"])}"
    @ui5-item-delete="${ifDefined(args["ui5-item-delete"])}"
  >
    ${unsafeHTML(args.defaultSlot)}
</ui5-list>`;
};

# List

<Description />

<br />
<br />

## Basic

<Preview>
  <Story
    name="Basic"
    args={{
      ["ui5-item-click"]: (e) => action("ui5-item-click")(e.detail),
      defaultSlot: `
  <ui5-li
    icon="nutrition-activity"
    description="Tropical plant with an edible fruit"
    additional-text="In-stock"
    additional-text-state="Success"
    >Pineapple</ui5-li
  >
  <ui5-li
    icon="nutrition-activity"
    description="Occurs between red and yellow"
    additional-text="Expires"
    additional-text-state="Warning"
    >Orange</ui5-li
  >
  <ui5-li
    icon="nutrition-activity"
    description="The yellow lengthy fruit"
    additional-text="Re-stock"
    additional-text-state="Information"
    >Blueberry</ui5-li
  >
  <ui5-li
    icon="nutrition-activity"
    description="The tropical stone fruit"
    additional-text="Re-stock"
    additional-text-state="Error"
    >Mango</ui5-li
  >`,
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

## Growing Scroll

<Preview>
  <Story
    name="Growing Scroll"
    parameters={{
      docs: {
        // Opt-out of inline rendering
        inlineStories: false,
      },
    }}
  >
    {html`
      <ui5-list id="infiniteScrollEx" style="height: 200px" growing="Scroll">
        <ui5-li
          icon="nutrition-activity"
          description="Tropical plant with an edible fruit"
          additional-text="In-stock"
          additional-text-state="Success"
          >Pineapple</ui5-li
        >
        <ui5-li
          icon="nutrition-activity"
          description="Occurs between red and yellow"
          additional-text="Expires"
          additional-text-state="Warning"
          >Orange</ui5-li
        >
        <ui5-li
          icon="nutrition-activity"
          description="The yellow lengthy fruit"
          additional-text="Re-stock"
          additional-text-state="Error"
          >Banana</ui5-li
        >
      </ui5-list>
      <script>
        function template(i) {
          var li = document.createElement("ui5-li");
          li.textContent = "Fruit name";
          li.description = "the description goes here " + i;
          li.additionalText = "Available";
          li.additionalTextState = "Success";
          li.icon = "nutrition-activity";
          return li;
        }
        function insertItems(el, num) {
          for (var i = 0; i < num; i++) {
            el.appendChild(template(i));
          }
        }
        infiniteScrollEx.addEventListener("load-more", (e) => {
          var el = infiniteScrollEx;
          el.busy = true;
          setTimeout(() => {
            insertItems(el, 5);
            el.busy = false;
          }, 200);
        });
      </script>
    `}
  </Story>
</Preview>

## Single-selection Mode

<Preview>
  <Story
    name="Single-selection Mode"
    args={{
      mode: "SingleSelect",
      headerText: "Select a country:",
      ["ui5-selection-change"]: (e) => action("ui5-selection-change")(e.detail),
      defaultSlot: `
  <ui5-li selected icon="map" icon-end>Argentina</ui5-li>
  <ui5-li icon="map" icon-end>Bulgaria</ui5-li>
  <ui5-li icon="map" icon-end>China</ui5-li>
  <ui5-li type="Inactive" icon="map" icon-end>Denmark (ui5-li type='Inactive')</ui5-li>`,
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

## Multi-selection Mode

<Preview>
  <Story
    name="Multi-selection Mode"
    args={{
      ["ui5-selection-change"]: (e) => action("ui5-selection-change")(e.detail),
      mode: "MultiSelect",
      headerText: "Multiple selection is possible",
      defaultSlot: `
  <ui5-li>Pineapple</ui5-li>
  <ui5-li selected="">Orange</ui5-li>
  <ui5-li>Banana</ui5-li>
  <ui5-li>Mango</ui5-li>`,
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

## Group Headers

<Preview>
  <Story
    name="Group Headers"
    args={{
      mode: "MultiSelect",
      defaultSlot: `
  <ui5-li-groupheader
    >Front End Developers</ui5-li-groupheader
  >
  <ui5-li
    image="../../../assets/images/avatars/woman_avatar_3.png"
    icon="navigation-right-arrow"
    icon-end=""
    >Jennifer</ui5-li
  >
  <ui5-li
    image="../../../assets/images/avatars/woman_avatar_4.png"
    icon="navigation-right-arrow"
    icon-end=""
    >Lora</ui5-li
  >
  <ui5-li
    image="../../../assets/images/avatars/woman_avatar_5.png"
    icon="navigation-right-arrow"
    icon-end=""
    >Carlotta</ui5-li
  >
  <ui5-li-groupheader>Back End Developers</ui5-li-groupheader>
  <ui5-li
    image="../../../assets/images/avatars/man_avatar_1.png"
    icon="navigation-right-arrow"
    icon-end=""
    >Clark</ui5-li
  >
  <ui5-li
    image="../../../assets/images/avatars/woman_avatar_1.png"
    icon="navigation-right-arrow"
    icon-end=""
    >Ellen</ui5-li
  >
  <ui5-li
    image="../../../assets/images/avatars/man_avatar_2.png"
    icon="navigation-right-arrow"
    icon-end=""
    >Adam</ui5-li
  >`,
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

## Delete Mode

<Preview>
  <Story
    name="Delete Mode"
    args={{
      mode: "Delete",
      ["ui5-item-delete"]: (e) => action("ui5-item-delete")(e.detail),
      headerText:
        "Note: The list items removal is up to application developers",
      defaultSlot: `
  <ui5-li>Argentina</ui5-li>
  <ui5-li>Bulgaria</ui5-li>
  <ui5-li>China</ui5-li>
      `,
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

## No Data

<Preview>
  <Story
    name="No Data"
    args={{
      headerText: "Products",
      noDataText: "No Data Available",
      separators: "None",
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

## Separation Types

<Preview>
  <Story name="Separation Types">
    {html`
      <ui5-list
        header-text="No separators"
        separators="None"
        class="full-width"
      >
        <ui5-li icon="product">Item #1</ui5-li>
        <ui5-li icon="product">Item #2</ui5-li>
        <ui5-li icon="product">Item #3</ui5-li>
      </ui5-list>
      <ui5-list
        header-text="Inner separators"
        separators="Inner"
        class="full-width"
      >
        <ui5-li icon="shipping-status">Devilered</ui5-li>
        <ui5-li icon="shipping-status">Pending</ui5-li>
        <ui5-li icon="shipping-status">Declined</ui5-li>
      </ui5-list>
    `}
  </Story>
</Preview>

## Properties

<ArgsTable story="." />
