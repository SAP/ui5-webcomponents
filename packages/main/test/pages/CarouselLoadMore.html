<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Carousel</title>

    <script src="../../webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../../resources/bundle.esm.js" type="module"></script>
    <script nomodule src="../../resources/bundle.es5.js"></script>

</head>

<body style="background-color: var(--sapBackgroundColor); padding: 1rem;">
<style>
    ui5-carousel {
        height: 25rem;
        margin-bottom: 1rem;
    }

    .myCard {
        height: 100%;
    }
</style>

<ui5-busy-indicator id="busy" style="width: 100%;">
    <ui5-carousel id="dynamicCarousel" items-per-page-s="3" items-per-page-m="3" items-per-page-l="3" infinite-scroll-offset="0">
        <ui5-card
                id="card"
                title-text="Quick Links"
                subtitle-text="quick links"
                header-interactive
                class="myCard">
            <ui5-list id="myList3" separators="Inner">
                <ui5-li icon="horizontal-bullet-chart" >Template Based Segmentation</ui5-li>
                <ui5-li icon="opportunity" >Segmentation Models</ui5-li>
                <ui5-li icon="line-charts" >Marketing plans</ui5-li>
            </ui5-list>

            <ui5-input id="field" value="0"></ui5-input>
        </ui5-card>

        <ui5-card
                id="card2"
                title-text="Quick Links"
                subtitle-text="quick links"
                class="myCard">
            <ui5-icon name="group" slot="avatar"></ui5-icon>
            <ui5-list id="myList3" separators="Inner">
                <ui5-li icon="horizontal-bullet-chart" >Template Based Segmentation</ui5-li>
                <ui5-li icon="opportunity" >Segmentation Models</ui5-li>
            </ui5-list>
        </ui5-card>

        <ui5-card title-text="Quick Links" subtitle-text="quick links" class="myCard">
            <ui5-list id="myList3" separators="Inner">
                <ui5-li icon="horizontal-bullet-chart" >Template Based Segmentation</ui5-li>
                <ui5-li icon="opportunity" >Segmentation Models</ui5-li>
            </ui5-list>
        </ui5-card>

        <ui5-card
                id="card"
                title-text="Quick Links"
                subtitle-text="quick links"
                header-interactive
                class="myCard">
            <ui5-list id="myList3" separators="Inner">
                <ui5-li icon="horizontal-bullet-chart" >Template Based Segmentation</ui5-li>
                <ui5-li icon="opportunity" >Segmentation Models</ui5-li>
                <ui5-li icon="line-charts" >Marketing plans</ui5-li>
            </ui5-list>

            <ui5-input id="field" value="0"></ui5-input>
        </ui5-card>

        <ui5-card
                id="card2"
                title-text="Quick Links"
                subtitle-text="quick links"
                class="myCard">
            <ui5-icon name="group" slot="avatar"></ui5-icon>
            <ui5-list id="myList3" separators="Inner">
                <ui5-li icon="horizontal-bullet-chart" >Template Based Segmentation</ui5-li>
                <ui5-li icon="opportunity" >Segmentation Models</ui5-li>
            </ui5-list>
        </ui5-card>

        <ui5-card title-text="Quick Links" subtitle-text="quick links" class="myCard">
            <ui5-list id="myList3" separators="Inner">
                <ui5-li icon="horizontal-bullet-chart" >Template Based Segmentation</ui5-li>
                <ui5-li icon="opportunity" >Segmentation Models</ui5-li>
            </ui5-list>
        </ui5-card>

        <ui5-card
                id="card"
                title-text="Quick Links"
                subtitle-text="quick links"
                header-interactive
                class="myCard">
            <ui5-list id="myList3" separators="Inner">
                <ui5-li icon="horizontal-bullet-chart" >Template Based Segmentation</ui5-li>
                <ui5-li icon="opportunity" >Segmentation Models</ui5-li>
                <ui5-li icon="line-charts" >Marketing plans</ui5-li>
            </ui5-list>

            <ui5-input id="field" value="0"></ui5-input>
        </ui5-card>


    </ui5-carousel>
</ui5-busy-indicator>

<script>
	var dynamicCarousel = document.getElementById('dynamicCarousel');
	var busy = document.getElementById('busy');

	function createCard() {
		var card = document.createElement("ui5-card");
		card.heading = "Dynamic card ";
		card.subtitleText = "new";
		card.classList.add("myCard");
		card.textContent = Math.random() + "";

		dynamicCarousel.appendChild(card);
	}

	dynamicCarousel.addEventListener("ui5-loadMore", function(event) {

		if (dynamicCarousel.children.length >= 20) {
			console.log("All items loaded!");
			return;
        }

		busy.active = true;
		setTimeout(function() {
			console.log("Fetching 3 items from db...");

			createCard();
			createCard();
			createCard();
			busy.active = false;

        }, 1000);

	});
</script>
</body>


</html>
