<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>MultiComboBox test page</title>
	<script>
		// delete Document.prototype.adoptedStyleSheets
	</script>

	<script data-ui5-config type="application/json">
		{
			"rtl": false
		}
	</script>


	<script src="../../bundle.esm.js" type="module"></script>


	<link rel="stylesheet" type="text/css" href="./styles/MultiComboBox.css">

</head>

<body class="multicombobox1auto">

	<link rel="stylesheet" type="text/css" href="./styles/MultiComboBox.css">
	<!-- <ui5-token>UI5 WebComponents</ui5-token> -->

	<!-- <ui5-token selected>UI5 WebComponents</ui5-token> -->

	<!-- <br />
	<br />

	<ui5-tokenizer class="multicombobox2auto">
		<ui5-token>Hello</ui5-token>
		<ui5-token>UI5</ui5-token>
		<ui5-token>webcomponents</ui5-token>
	</ui5-tokenizer>

	<span>value </span>

	<ui5-tokenizer show-more class="multicombobox2auto">
		<ui5-token>World!</ui5-token>
		<ui5-token>Martin</ui5-token>
		<ui5-token>Hristovthelong</ui5-token>
	</ui5-tokenizer>

	<span>value </span>

	<ui5-tokenizer show-more class="multicombobox2auto">
		<ui5-token>B</ui5-token>
		<ui5-token>A</ui5-token>
		<ui5-token>A</ui5-token>
		<ui5-token>A</ui5-token>
		<ui5-token>B</ui5-token>
		<ui5-token>B</ui5-token>
		<ui5-token>B</ui5-token>
	</ui5-tokenizer>

<span>value </span>-->

	<div class="demo-section">
		<span>Predefined value</span>

		<br>
		<ui5-multi-combobox allow-custom-values id="multi1" accessible-name="MultiComboBox with predefined values">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
		<br>
		<br>
		<ui5-button id="focus-mcb">Focus MultiComboBox</ui5-button>
	</div>

	<div class="demo-section">
		<ui5-label id="mcbLabel">Validating input and predefined</ui5-label>

		<br>
		<ui5-multi-combobox id="mcb-predefined-value" value="com" accessible-name-ref="mcbLabel">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>allow-custom-values and predefined value</span>

		<br>
		<ui5-multi-combobox id="multi-acv" allow-custom-values value="com">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item text="Condensed"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>Validating input and placeholder </span>

		<br>
		<ui5-multi-combobox id="mcb-with-placeholder" placeholder="Some initial text">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>disabled and placeholder </span>

		<br>
		<ui5-multi-combobox allow-custom-values placeholder="Some initial text" disabled>
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>value state success </span>

		<br>
		<ui5-multi-combobox id="mcb-success" allow-custom-values placeholder="Some initial text"
			value-state="Success">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>value state information </span>

		<br>
		<ui5-multi-combobox allow-custom-values placeholder="Some initial text" id="mcb-information"
			value-state="Information">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
			<div slot="valueStateMessage">Information message. This is a <a href="#">Link</a>. Extra long text used as an information message. Extra long text used as an information message - 2. Extra long text used as an information message - 3.</div>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>value state warning </span>

		<br>
		<ui5-multi-combobox id="mcb-warning" allow-custom-values placeholder="Some initial text"
			value-state="Warning">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>value state error </span>

		<br>
		<ui5-multi-combobox id="mcb-error" allow-custom-values placeholder="Some initial text"
			value-state="Error">
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>readonly </span>

		<br>
		<ui5-multi-combobox id="mcb-ro" allow-custom-values placeholder="Some initial text" readonly>
			<ui5-mcb-item selected text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item selected text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>Readonly with value state </span>

		<br>
		<ui5-multi-combobox id="readonly-value-state-mcb" value-state="Error" readonly>
			<ui5-mcb-item text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>MultiComboBox with items</span>

		<br>
		<ui5-multi-combobox allow-custom-values placeholder="Some initial text" id="mcb">
			<ui5-mcb-item text="Cosy" id="first-item"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world 1"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world 2"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>MultiComboBox without type ahead</span>

		<br>
		<ui5-multi-combobox allow-custom-values placeholder="Some initial text" no-typeahead id="mcb-no-typeahead">
			<ui5-mcb-item text="Cosy" id="first-item"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>MultiComboBox with more items</span>

		<br>
		<ui5-multi-combobox allow-custom-values placeholder="Some initial text" id="mcb-items">
			<ui5-mcb-item text="Item 0" id="first-item"></ui5-mcb-item>
			<ui5-mcb-item selected text="Item 1"></ui5-mcb-item>
			<ui5-mcb-item selected text="Item 2"></ui5-mcb-item>
			<ui5-mcb-item selected text="Item 3"></ui5-mcb-item>
			<ui5-mcb-item selected text="Item 4"></ui5-mcb-item>
			<ui5-mcb-item selected text="Item 5"></ui5-mcb-item>
			<ui5-mcb-item text="Another Item 0" ></ui5-mcb-item>
			<ui5-mcb-item text="Another Item 1"></ui5-mcb-item>
			<ui5-mcb-item text="Another Item 2"></ui5-mcb-item>
			<ui5-mcb-item text="Another Item 3"></ui5-mcb-item>
			<ui5-mcb-item text="Another Item 4"></ui5-mcb-item>
			<ui5-mcb-item text="Another Item 5"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>MultiComboBox with validation</span>

		<br>
		<ui5-multi-combobox allow-custom-values placeholder="Some initial text" id="another-mcb">
			<ui5-mcb-item text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>MultiComboBox n more</span> <br/>

		<ui5-multi-combobox class="multicombobox3auto" placeholder="Some initial text" id="more-mcb">
			<ui5-mcb-item text="Cosy" selected></ui5-mcb-item>
			<ui5-mcb-item text="Compact" selected></ui5-mcb-item>
			<ui5-mcb-item text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world" selected></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>MultiComboBox with validation</span>

		<br>
		<ui5-multi-combobox placeholder="Some initial text" id="mcb-validation">
			<ui5-mcb-item text="Cosy"></ui5-mcb-item>
			<ui5-mcb-item text="Compact"></ui5-mcb-item>
			<ui5-mcb-item text="Condensed"></ui5-mcb-item>
			<ui5-mcb-item text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>MultiComboBox with grouping</span>

		<br>
		<ui5-multi-combobox id="mcb-grouping" allow-custom-values placeholder="Select a country">
			<ui5-mcb-group-item text="Asia"></ui5-mcb-group-item>
			<ui5-mcb-item text="Afghanistan"></ui5-mcb-item>
			<ui5-mcb-item text="China"></ui5-mcb-item>
			<ui5-mcb-item text="India"></ui5-mcb-item>
			<ui5-mcb-item text="Indonesia"></ui5-mcb-item>
			<ui5-mcb-group-item text="Europe"></ui5-mcb-group-item>
			<ui5-mcb-item text="Austria"></ui5-mcb-item>
			<ui5-mcb-item text="Bulgaria"></ui5-mcb-item>
			<ui5-mcb-item text="Germany"></ui5-mcb-item>
			<ui5-mcb-item text="Italy"></ui5-mcb-item>
			<ui5-mcb-group-item text="North America"></ui5-mcb-group-item>
			<ui5-mcb-item text="Canada"></ui5-mcb-item>
			<ui5-mcb-item text="Granada"></ui5-mcb-item>
			<ui5-mcb-item text="Haiti"></ui5-mcb-item>
			<ui5-mcb-item text="United States"></ui5-mcb-item>
		</ui5-multi-combobox>
		<span>SelectionChange events emitted:</span>
		<span id="selection-change-events-fired"></span>
	</div>


	<hr class="demo-section">

	<div class="demo-section">
		<span>Fired event: </span>
		<input type="text" id="events-input" />

		<br>
		<br>

		<span>Parameters Count: </span>
		<input type="text" id="events-parameters" />

		<br>
		<br>

		<span>Event call count: </span>
		<input type="text" id="events-call-count" value="0" />

		<br>
		<br>

		<button id="reset-btn">Reset fields</button>
	</div>


	<section class="ui5-content-density-compact">
		<h3>MultiComboBox in Compact</h3>
		<div>
			<ui5-multi-combobox id="mcb-compact" placeholder="Some initial text">
				<ui5-mcb-item text="Cosy" selected></ui5-mcb-item>
				<ui5-mcb-item text="Compact" selected></ui5-mcb-item>
				<ui5-mcb-item text="Condensed"></ui5-mcb-item>
				<ui5-mcb-item text="Longest word in the world"></ui5-mcb-item>
			</ui5-multi-combobox>
		</div>
	</section>

	<div class="demo-section">
		<ui5-label>Two-column items </ui5-label>
		<br/>
		<ui5-multi-combobox id="mcb-two-column-layout" class="multicombobox4auto">
			<ui5-mcb-item text="Algeria" additional-text="DZ"></ui5-mcb-item>
			<ui5-mcb-item text="Argentina" additional-text="AR"></ui5-mcb-item>
			<ui5-mcb-item text="Australia" additional-text="AU"></ui5-mcb-item>
			<ui5-mcb-item text="Austria" additional-text="AT"></ui5-mcb-item>
			<ui5-mcb-item text="Bahrain" additional-text="BH"></ui5-mcb-item>
			<ui5-mcb-item text="Belgium" additional-text="BE"></ui5-mcb-item>
			<ui5-mcb-item text="Brazil" additional-text="BR"></ui5-mcb-item>
			<ui5-mcb-item text="Bulgaria" additional-text="BG"></ui5-mcb-item>
			<ui5-mcb-item text="Canada" additional-text="CA"></ui5-mcb-item>
			<ui5-mcb-item text="Chile" additional-text="CL"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="demo-section">
		<span>Placeholder test</span>

		<br>
		<ui5-button id="sel">Toggle Item</ui5-button>
		<ui5-multi-combobox id="mcb-init-selected-item" placeholder="Placeholder" style="width: 300px;">
			<ui5-mcb-item text="Item1"></ui5-mcb-item>
			<ui5-mcb-item selected id="mcb1" text="Initially selected"></ui5-mcb-item>
		</ui5-multi-combobox>
		<br />
		<br />
		<ui5-button id="sel2">Toggle Item</ui5-button>
		<ui5-multi-combobox id="mcb-init-nonselected-item" placeholder="Placeholder" style="width: 300px;">
			<ui5-mcb-item text="Item1"></ui5-mcb-item>
			<ui5-mcb-item id="mcb1_2" text="Initially not selected"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div>
		<ui5-multi-combobox id="mcb-long-token">
			<ui5-mcb-item selected text="Longest word in the world"></ui5-mcb-item>
		</ui5-multi-combobox>
	</div>

	<div class="sample-container">
		<ui5-button id="add">Add Tokens</ui5-button>
		<ui5-multi-combobox id="mcb-dynamic-selection"></ui5-multi-combobox>
	</div>

	<script>
		let selectionChangeEventsFired = 0;
		var eventNameInput = document.getElementById("events-input");
		var eventParamsInput = document.getElementById("events-parameters");
		var callCountInput = document.getElementById("events-call-count");
		var resetBtn = document.getElementById("reset-btn");
		var selectionChangeCounter = 0;
		var openChangeCounter = 0;

		document.getElementById("mcb").addEventListener("ui5-selectionChange", function (event) {
			selectionChangeCounter += 1;
			eventNameInput.value = "selectionChange";
			eventParamsInput.value = event.detail.items.length;
			callCountInput.value = selectionChangeCounter;
		});

		document.getElementById("multi1").addEventListener("ui5-openChange", function (event) {
			openChangeCounter += 1;
			eventNameInput.value = "openChange";
			callCountInput.value = openChangeCounter;
		});

		resetBtn.addEventListener("click", function (event) {
			eventNameInput.value = "";
			eventParamsInput.value = "";
			callCountInput.value = "";
			selectionChangeCounter = 0;
			openChangeCounter = 0;
		});

		// Placeholders test
		const btn = document.getElementById("sel");
		const mcb1 = document.getElementById("mcb1");
		const btn2 = document.getElementById("sel2");
		const mcb1_2 = document.getElementById("mcb1_2");
		const btnfocusMCB = document.getElementById("focus-mcb");
		const mcbFocus = document.getElementById("multi1");

		let selected = mcb1.hasAttribute("selected");
		btn.addEventListener("click", () => {
			if (!selected) {
				mcb1.setAttribute("selected", selected);
			} else {
				mcb1.removeAttribute("selected");
			}
			selected = !selected;
		});

		let selected2 = mcb1_2.hasAttribute("selected");
		btn2.addEventListener("click", () => {
			if (!selected2) {
				mcb1_2.setAttribute("selected", selected2);
			} else {
				mcb1_2.removeAttribute("selected");
			}
			selected2 = !selected2;
		});

		btnfocusMCB.addEventListener("click", () => {
			mcbFocus.focus();
		});

		document.getElementById("add").addEventListener("click", event => {
			const mcb = document.getElementById("mcb-dynamic-selection");

			["Item 1", "Item 2", "Item 3", "Item 4", "Item 5", "Item 6"].forEach(text => {
				const item = document.createElement("ui5-mcb-item");
				item.text = text;
				item.selected = true;

				mcb.appendChild(item);
			});
		});

		
		document.getElementById("mcb-grouping").addEventListener("selection-change", (e) => {
			document.getElementById("selection-change-events-fired").textContent =  ++selectionChangeEventsFired;
		})
	</script>

</body>

</html>
