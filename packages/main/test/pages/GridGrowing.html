<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">

	<title>Test Page - Grid Popin</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta charset="utf-8">

	<script src="%VITE_BUNDLE_PATH%" type="module"></script>
</head>

<body>
	<div class="section">
		<ui5-grid id="grid0" style="width: 850px;" overflow-mode="Popin" accessible-name-ref="title" no-data-text="No data found">
			<ui5-grid-growing id="growing" type="Button" growing-text="Load More" growing-sub-text="More Items Loading..." slot="features"></ui5-grid-growing>
			<ui5-grid-header-row slot="headerRow">
				<ui5-grid-header-cell id="colA" min-width="300px"><span>ColumnA</span></ui5-grid-header-cell>
				<ui5-grid-header-cell id="colB" min-width="200px">Column B</ui5-grid-header-cell>
				<ui5-grid-header-cell id="colC" min-width="200px">Column C</ui5-grid-header-cell>
				<ui5-grid-header-cell id="colD" min-width="150px">Column D</ui5-grid-header-cell>
			</ui5-grid-header-row>
			<ui5-grid-row id="row-1">
				<ui5-grid-cell><ui5-label>Cell A</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell B</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell C</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell D</ui5-label></ui5-grid-cell>
			</ui5-grid-row>
			<ui5-grid-row id="row-2">
				<ui5-grid-cell><ui5-label>Cell A</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell B</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell C</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell D</ui5-label></ui5-grid-cell>
			</ui5-grid-row>
			<ui5-grid-row id="row-3">
				<ui5-grid-cell><ui5-label>Cell A</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell B</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell C</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell D</ui5-label></ui5-grid-cell>
			</ui5-grid-row>
			<ui5-grid-row id="row-4">
				<ui5-grid-cell><ui5-label>Cell A</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell B</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell C</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell D</ui5-label></ui5-grid-cell>
			</ui5-grid-row>
			<ui5-grid-row id="row-5">
				<ui5-grid-cell><ui5-label>Cell A</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell B</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell C</ui5-label></ui5-grid-cell>
				<ui5-grid-cell><ui5-label>Cell D</ui5-label></ui5-grid-cell>
			</ui5-grid-row>
		</ui5-grid>
		<ui5-input id="load-more-counter"></ui5-input>
	</div>

	<script>
		const grid = document.getElementById("grid0");
		const growing = document.getElementById("growing");
		let counter = 0;
		growing.addEventListener("ui5-load-more", (e) => {
			counter++;
			document.getElementById("load-more-counter").value = counter;
			let count = grid.rows.length;

			if (grid._skipRowCreation) {
				return;
			}

			if (grid._removeRows) {
				let remove = [];
				for (const child of grid.children) {
					if (child.tagName === "UI5-GRID-ROW") {
						remove.push(child);
					}
				}
				remove.forEach((child) => {
					grid.removeChild(child);
				});
				count = 0;
			}

			for (let i = 0; i < 5; i++) {
				const newRow = document.createElement("ui5-grid-row");
				newRow.id = `row-${count + i + 1}`;
				newRow.innerHTML = `
					<ui5-grid-cell><ui5-label><b>Notebook Basic ${18 + count + i}</b><br>HT-100${2 + count + i}</ui5-label></ui5-grid-cell>
					<ui5-grid-cell><ui5-label>Technocom</ui5-label></ui5-grid-cell>
					<ui5-grid-cell><ui5-label>32 x 21 x 4 cm</ui5-label></ui5-grid-cell>
					<ui5-grid-cell><ui5-label style="color: #2b7c2b"><b>3.7</b> KG</ui5-label></ui5-grid-cell>
					<ui5-grid-cell style="text-align: end;"><ui5-label style="text-align: end;"><b>29</b> EUR</ui5-label></ui5-grid-cell>
				`;
				grid.appendChild(newRow);
			}
		});

	</script>
</body>

</html>