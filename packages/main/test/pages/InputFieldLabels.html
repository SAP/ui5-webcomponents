<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ui5-input</title>
        <script src="../../bundle.esm.js" type="module"></script>
    </head>

    <style>
        html,
        body {
            margin: 0;
            height: 100%;
            width: 100%;
        }

        body {
            padding: 1rem;
            box-sizing: border-box;
        }

        .wrapper {
            padding: 0.5rem;
            box-sizing: border-box;
            border: 1px grey dashed;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .field {
            margin-top: 0.25rem;
            display: block;
            max-width: 100%;
        }

        .field,
        .fields {
            width: 540px;
            max-width: 100%;
        }
    </style>

    <body>
        <div class="wrapper">
            <div class="fields">
                <p>
                    <ui5-label id="lblDesc1" for="myInput"
                        >Description that will change</ui5-label
                    >
                </p>
                <p>
                    <ui5-label id="lblDesc2" for="myInput"
                        >Another description</ui5-label
                    >
                </p>
                <p>
                    <ui5-input
                        id="myInput"
                        placeholder="input placeholder"
                        class="field"
                    ></ui5-input>
                </p>
                <p>
                    <ui5-label id="lblDesc3" for="myInput">
					Description that will be removed</ui5-label>
                </p>
                <p><label for="myInput">DescLabel</label></p>
                <p><ui5-button id="btnChange">Change Desc</ui5-button></p>
                <p><ui5-button id="btnRemove">Remove Label</ui5-button></p>
                <p id="actualLabel">Actual Desc from input:</p>
            </div>
        </div>

        <script>
            function show() {
                const inputShadowRoot =
                    document.getElementById("myInput").shadowRoot;
                const innerInput =
                    inputShadowRoot.querySelector(".ui5-input-inner");
                const ariaLabel = innerInput.getAttribute("aria-label");
                document.getElementById(
                    "actualLabel"
                ).innerHTML = `Actual Desc from input: ${ariaLabel}`;
            }

            let btnChange = document.getElementById("btnChange");
            btnChange.addEventListener("click", () => {
                let lblDesc1 = document.getElementById("lblDesc1");
                let lblDesc2 = (document.getElementById("lblDesc2").for =
                    "other");
                let lblDesc3 = document.getElementById("lblDesc3");
                lblDesc3?.remove();
                lblDesc1.innerHTML =
                    "Desc" + ((Math.random() * 10000) % 100 << 0);
                setTimeout(() => {
                    this.show();
                }, 250);
            });

            window.addEventListener(
                "DOMContentLoaded",
                () => {
                    setTimeout(() => {
                    this.show();
                }, 250);
                });
        </script>
    </body>
</html>
