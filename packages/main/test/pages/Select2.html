<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>ui5-select</title>
	<script src="%VITE_BUNDLE_PATH%" type="module"></script>
<link rel="stylesheet" type="text/css" href="./styles/Select.css">
</head>

<body class="select1auto">

	<h2>No value, no selected option => expected Cozy</h2>
	<ui5-select id="sel1">
		<ui5-option>Cozy</ui5-option>
		<ui5-option>Compact</ui5-option>
		<ui5-option>Condensed</ui5-option>
	</ui5-select>
	<ui5-label id="lbl1"></ui5-label>

	<h2>No value and with Option Condensed selected="true" = > expected Condensed</h2>

	<ui5-select id="sel2">
		<ui5-option>Cozy</ui5-option>
		<ui5-option>Compact</ui5-option>
		<ui5-option selected>Condensed</ui5-option>
	</ui5-select>
	<ui5-label id="lbl2"></ui5-label>


	<hr/>
	<h2>With value="Compact" and no selected option = > expected: Compact</h2>
	<ui5-select id="sel4" value="Compact">
		<ui5-option>Cozy</ui5-option>
		<ui5-option>Compact</ui5-option>
		<ui5-option>Condensed</ui5-option>
	</ui5-select>
	<ui5-label id="lbl4"></ui5-label>

	 <h2>With value="Compact" and Condensed selected="true" = > expected: Compact</h2>

	<ui5-select id="sel5" value="Compact">
		<ui5-option id="cozy">Cozy</ui5-option>
		<ui5-option id="comp">Compact</ui5-option>
		<ui5-option selected>Condensed</ui5-option>
	</ui5-select>
	<ui5-label id="lbl5"></ui5-label>
	<ui5-button id="btn">Set Option Cozy selected=true</ui5-button>

	<h2>With value="Compact" set with delay and Condensed selected="true" initially = > expected: Compact</h2>

	<ui5-select id="sel7">
		<ui5-option selected>Cozy</ui5-option>
		<ui5-option>Compact</ui5-option>
		<ui5-option selected>Condensed</ui5-option>
	</ui5-select>
	<ui5-label id="lbl7"></ui5-label>

	<h2>With value="Compact" set initially but Compact option added with delay = > expected: Compact</h2>

	<ui5-select id="sel8" value="Compact">
		<ui5-option>Cozy</ui5-option>
		<ui5-option>Condensed</ui5-option>
	</ui5-select>
	<ui5-label id="lbl8"></ui5-label>

	<hr/>

	<h2>Test setting value property</h2>
	<ui5-select id="sel10">
		<ui5-option>Item1</ui5-option>
		<ui5-option>Item2</ui5-option>
		<ui5-option selected>Item3</ui5-option>
	</ui5-select>
	<ui5-label id="lbl10"></ui5-label>
	<ui5-button id="btnSetValue">select.value = "Item2"</ui5-button>
	<ui5-button id="btnSetInvalidValue">select.value = "NAN"</ui5-button>

	<h2>With value="Compact" set initially but Compact option never added = > expected: Cozy</h2>

	<ui5-select id="sel11" value="Compact">
		<ui5-option>Cozy</ui5-option>
		<ui5-option>Condensed</ui5-option>
	</ui5-select>
	<ui5-label id="lbl11"></ui5-label>

	<script>
		setTimeout(() => {
			document.getElementById('sel7').value = 'Compact';
		}, 1000);

		setTimeout(() => {
			const opt = document.createElement('ui5-option');
			opt.textContent = 'Compact';
			document.getElementById('sel8').appendChild(opt);
		}, 2000);
		
		setInterval(() => {
			document.getElementById('lbl1').textContent = `this.value :: ${document.getElementById('sel1').value}, getAttribute("value"): ${document.getElementById('sel1').getAttribute('value')}`;
			document.getElementById('lbl2').textContent = `this.value :: ${document.getElementById('sel2').value}, getAttribute("value"): ${document.getElementById('sel2').getAttribute('value')}`;
			document.getElementById('lbl4').textContent = `this.value :: ${document.getElementById('sel4').value}, getAttribute("value"): ${document.getElementById('sel4').getAttribute('value')}`;
			document.getElementById('lbl5').textContent = `this.value :: ${document.getElementById('sel5').value}, getAttribute("value"): ${document.getElementById('sel5').getAttribute('value')}`;
			document.getElementById('lbl7').textContent = `this.value :: ${document.getElementById('sel7').value}, getAttribute("value"): ${document.getElementById('sel7').getAttribute('value')}`;
			document.getElementById('lbl8').textContent = `this.value :: ${document.getElementById('sel8').value}, getAttribute("value"): ${document.getElementById('sel8').getAttribute('value')}`;
			document.getElementById('lbl10').textContent = `this.value :: ${document.getElementById('sel10').value}, getAttribute("value"): ${document.getElementById('sel10').getAttribute('value')}`;
			document.getElementById('lbl11').textContent = `this.value :: ${document.getElementById('sel11').value}, getAttribute("value"): ${document.getElementById('sel11').getAttribute('value')}`;
		}, 500);
		
		btn.addEventListener('click', () => {
			document.getElementById('comp').selected = false;
			document.getElementById('cozy').selected = true;
		});

		btnSetValue.addEventListener("click", function(e) {
			sel10.value = "Item2";
		});

		btnSetInvalidValue.addEventListener("click", function(e) {
			sel10.value = "NAN";
		});
	</script>
</body>