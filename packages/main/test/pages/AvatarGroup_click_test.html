<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">

	<title>avatar-group</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<script data-ui5-config type="application/json">
		{
			"language": "EN"
		}
	</script>


	<script src="%VITE_BUNDLE_PATH%" type="module"></script>


    <link rel="stylesheet" type="text/css" href="./styles/AvatarGroup.css">

</head>

<body class="avatargroup1auto">
		<ui5-avatar id="avatarInteractive" size="M" initials="Y" interactive></ui5-avatar>
		<ui5-avatar id="avatarNonInteractive" size="M" initials="N"></ui5-avatar>

		<ui5-avatar-group type="Individual" id="avatar-group-individual">
			<ui5-avatar interactive size="XL" icon="home" initials="XL" id="avatar-1"></ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<ui5-avatar interactive size="XL" icon="home">
				<img src="./img/woman_avatar_5.png" alt="Woman Avatar 5">
			</ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<ui5-avatar interactive size="XL" icon="home"></ui5-avatar>
			<ui5-avatar interactive size="XL" icon="home"></ui5-avatar>
			<ui5-avatar interactive size="XL" initials="XL"></ui5-avatar>
			<!-- overflow button -->
			<!-- <ui5-button slot="overflowButton" icon="overflow"></ui5-button> -->
		</ui5-avatar-group>
		<br>
		<ui5-avatar-group type="Group" id="avatar-group-group">
			<ui5-avatar size="M" initials="M">
				<img src="./img/woman_avatar_5.png" alt="Woman Avatar 5">
			</ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" icon="home"></ui5-avatar>
			<ui5-avatar size="M" initials="M">
				<img src="./img/Lamp_avatar_01.jpg" alt="Lamp 1">
			</ui5-avatar>
			<ui5-avatar size="M" icon="home"></ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" icon="home">
				<img src="./img/John_Miller.png" alt="John Miller">
			</ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" icon="home"></ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" initials="M">
				<img src="./img/woman_avatar_5.png" alt="Woman Avatar 5">
			</ui5-avatar>
			<ui5-avatar size="M" icon="home"></ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" initials="M">
				<img src="./img/Lamp_avatar_01.jpg" alt="Lamp 1">
			</ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<ui5-avatar size="M" initials="M"></ui5-avatar>
			<!-- overflow button -->
			<ui5-button slot="overflowButton" icon="overflow"></ui5-button>
		</ui5-avatar-group>
		

<script>
	var avatarGroupIndividual = document.getElementById("avatar-group-individual");
	var avatarGroupGroup = document.getElementById("avatar-group-group");


	function onButtonClicked(avatarGroup, event) {
		var hiddenItems = avatarGroup.type === "Group" ? avatarGroup.items : avatarGroup.hiddenItems;
		var items = avatarGroup.items.slice();
		var placeholder = groupPop.querySelector(".placeholder");
		var firstHiddenIndex = avatarGroup.items.length - hiddenItems.length;
		var color;

		var html = "";

		hiddenItems.forEach(function (avatar, index) {
			var color = avatarGroup.colorScheme[firstHiddenIndex + index];
			html += `<div class="avatar-slot avatargroup5auto" >
						<ui5-avatar interactive icon="${avatar.icon}" initials="${avatar.initials}" background-color="${color}">`;
			if (avatar.image.length > 0) {
				html += `<img src="${avatar.image[0].src}">`
			}
			html +=`</ui5-avatar></div>`;
		});

		for (var index = 0; index < hiddenItems; index++) {
			var avatarRef = items[index];

			html += `<div class="avatar-slot avatargroup5auto" >
						<ui5-avatar interactive icon="${avatarRef.icon}" initials="${avatarRef.initials}" background-color="${color}">`;
			if (avatarRef.image.length > 0) {
				html += `<img src="${avatarRef.image[0].src}">`
			}
			html +=`</ui5-avatar></div>`;
		}
		placeholder.innerHTML = html;

		groupPop.open = false;
		groupPop.opener = event.detail.targetRef;
		groupPop.open = true;
	}

	function onAvatarClicked(avatarGroup, avatarRef) {
		while (popAvatar.firstChild) {
			popAvatar.removeChild(popAvatar.firstChild);
		}

		for (let i = 0; i < avatarRef.image.length; i++) {
			popAvatar.appendChild(avatarRef.image[i].cloneNode())
		}
		popAvatar.initials = avatarRef.initials;
		popAvatar.colorScheme = avatarGroup.colorScheme[avatarGroup.items.indexOf(avatarRef)];

		individualPop.open = false;
		individualPop.opener = avatarRef;
		individualPop.open = true;
	}

	avatarGroupIndividual.addEventListener("click", function (event) {
		console.log("avatarGroupIndividual click", event.detail);
	});
	avatarGroupIndividual.addEventListener("ui5-click", function (event) {
		console.log("avatarGroupIndividual ui5-click", event.detail);
	});


	avatarGroupGroup.addEventListener("ui5-click", function (event) {
		console.log("avatarGroupGroup ui5-click", event.detail);
	});
	avatarGroupGroup.addEventListener("click", function (event) {
		console.log("avatarGroupGroup click", event.detail);
	});


	avatarInteractive.addEventListener("ui5-click", function (event) {
		console.log("avatarInteractive ui5-click");
	});
	avatarInteractive.addEventListener("click", function (event) {
		console.log("avatarInteractive click");
	});

	avatarNonInteractive.addEventListener("ui5-click", function (event) {
		console.log("avatarNonInteractive ui5-click");
	});
	avatarNonInteractive.addEventListener("click", function (event) {
		console.log("avatarNonInteractive click");
	});
</script>
</body>
</html>
