<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta charset="utf-8">

	<title>Breadcrumbs</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta charset="utf-8">

	<script>delete Document.prototype.adoptedStyleSheets;</script>

	<script data-ui5-config type="application/json">
		{
			"language": "EN"
		}
	</script>

	<script src="../../webcomponentsjs/webcomponents-loader.js"></script>
	<script src="../../resources/bundle.esm.js" type="module"></script>
	<script nomodule src="../../resources/bundle.es5.js"></script>

	<style>
		h2 {
			margin-top: 2rem;
		}
	</style>

</head>

<body style="background-color: var(--sapBackgroundColor);">

	<ui5-toggle-button id="myBtn">turn lights</ui5-toggle-button>
	<div style="display:inline-block;margin-left:0.5rem"><label for="size">Resize last container: </label>
		<div style="width:2rem;display:inline-block">

			<ui5-button id="extendSizeBtn"
			style="width:1rem;height:1rem"
			icon="slim-arrow-up" ></ui5-button>

			<ui5-button id="shrinkSizeBtn"
			style="width:1rem;height:1rem"
			icon="slim-arrow-down"></ui5-button>
		</div>
		
	</div>
	<div style="display:inline-block;margin-left:0.5rem">
		<label for="size">Resize last link: </label>
		<div style="width:1rem;display:inline-block">

			<ui5-button id="extendLinkTextBtn"
			style="width:1rem;height:1rem"
			icon="slim-arrow-up"></ui5-button>

			<ui5-button id="shortenLinkTextBtn"
			style="width:1rem;height:1rem"
			icon="slim-arrow-down"></ui5-button>
		</div>
	</div>
	
	<h2>Breadcrumbs with current location</h2>

	<ui5-breadcrumbs id="breadcrumbs2" separator-style="Slash">
		<ui5-breadcrumbs-item href="https://www.sap.com">Link1 </ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="https://www.sap.com" target="_blank">Link2</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link3</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link4</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link5</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link6</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link7</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item>Location</ui5-breadcrumbs-item>
	</ui5-breadcrumbs>

	<h2>Breadcrumbs with no current location</h2>

	<ui5-breadcrumbs id="breadcrumbs3" design="NoCurrentPage" separator-style="Slash">
		<ui5-breadcrumbs-item href="https://www.sap.com">Link1 </ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="https://www.sap.com" target="_blank">Link2</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link3</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link4</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link5</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link6</ui5-breadcrumbs-item>
		<ui5-breadcrumbs-item href="#">Link7</ui5-breadcrumbs-item>
	</ui5-breadcrumbs>

	<h2>Breadcrumbs with specific separator style</h2>
	<ui5-select id="selectSeparator">
		<ui5-option>Slash</ui5-option>
		<ui5-option>BackSlash</ui5-option>
		<ui5-option>DoubleBackSlash</ui5-option>
		<ui5-option>DoubleGreaterThan</ui5-option>
		<ui5-option>DoubleSlash</ui5-option>
		<ui5-option>GreaterThan</ui5-option>
	</ui5-select>
	<div style="margin-top:0.5rem">
		<ui5-breadcrumbs id="breadcrumbs4" separator-style="Slash">
			<ui5-breadcrumbs-item href="#">Link1 </ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link2</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link3</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Location</ui5-breadcrumbs-item>
		</ui5-breadcrumbs>
	</div>

	<div style="width: 200px;border: 1px solid lightgray;padding-top: 0.5rem;margin-top: 0.5rem">

		<h2>Breadcrumb items with accessible name</h2>
	
		<ui5-breadcrumbs id="breadcrumbsWithAccName" design="NoCurrentPage">
			<ui5-breadcrumbs-item href="#" id="firstItemWithACCName" accessible-name="first link acc name">
				Link1
			</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link2</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link3</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link4</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#" id="lastItemWithACCName" accessible-name="last link acc name">
				Link5
			</ui5-breadcrumbs-item>
		</ui5-breadcrumbs>
	</div> 

	<div id="wrapper" style="width: 200px;border: 1px solid lightgray;padding-top: 0.5rem;;margin-top: 0.5rem">

		<h2>Breadcrumbs with overflowing links</h2>
	
		<ui5-breadcrumbs id="breadcrumbs1" separator-style="Slash">
			<ui5-breadcrumbs-item href="https://www.sap.com" target="_blank">Link1 </ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="https://www.sap.com" target="_blank">Link2</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link3</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link4</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link5</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item href="#">Link6</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item id="item7" href="#">aaaaa</ui5-breadcrumbs-item>
			<ui5-breadcrumbs-item>Location</ui5-breadcrumbs-item>
		</ui5-breadcrumbs>
	</div> 

	Last pressed link: <span id="result"></span>


	<script>
		// HCB button
		var btn = document.getElementById('myBtn');
		btn.addEventListener("click", function(event) {
			var hcb = event.target.pressed;
			var styles = hcb ? "background:#333;color:palegoldenrod;" : "background:#fff;color:#333;";
			var theme = hcb ? "sap_belize_hcb" : "sap_fiori_3";

			document.body.setAttribute("style", styles);
			var Conf = window["sap-ui-webcomponents-bundle"].configuration;
			Conf.setTheme(theme);
		});

		// log events
		breadcrumbs1.addEventListener("item-click", (event) => {result.innerText = event.detail.item.innerText});

		extendSizeBtn.addEventListener("click", () => resizeContainer(true));
		shrinkSizeBtn.addEventListener("click", () => resizeContainer());

		extendLinkTextBtn.addEventListener("click", () => updateLinkContent(true));
		shortenLinkTextBtn.addEventListener("click", () => updateLinkContent());

		// resize breadcrumbs container
		function resizeContainer(extendSize) {
			let wrapperWidth = wrapper.clientWidth,
				step = 50,
				amount = extendSize ?  step: -step,
				newWidth = Math.max(wrapperWidth + amount, 0);
				wrapper.style.width = newWidth + "px";
		}

		// cause resize of the breadcrumbs last link
		function updateLinkContent(extendSize) {
			let link = item7,
				step = 5,
				content = link.innerText,
				newContent;

			if (extendSize) {
				newContent = content + new Array(step + 1).join( "a" );
			} else {
				newContent = content.substring(step);
			}

			link.innerText = newContent;
		}

		selectSeparator.addEventListener("ui5-change", function(e) {
			let separator = e.detail.selectedOption.textContent;
			breadcrumbs4.setAttribute("separator-style", separator);
		});

	</script>

</body>

</html>
