<header
	class="{{classes.wrapper}}"
	aria-label="{{_shellbarText}}"
	@keydown="{{_onKeyDown}}"
	part="root">
	<div class="ui5-shellbar-overflow-container ui5-shellbar-overflow-container-left">

		{{#if startButton.length}}
			{{#if _isFullVariant}}

				<slot name="startButton"></slot>
			{{/if}}
		{{/if}}

		{{#if hasMenuItems}}
			{{#unless showLogoInMenuButton}}
				{{#if hasLogo}}
					{{> singleLogo}}
				{{/if}}
			{{/unless}}

			{{#if showTitleInMenuButton}}
			<h1 class="ui5-hidden-text">
				{{primaryTitle}}
			</h1>
			{{/if}}

			{{#if showMenuButton}}
				<button
					class="{{classes.button}}"
					@click="{{_headerPress}}"
					aria-haspopup="menu"
					aria-expanded="{{_menuPopoverExpanded}}"
					data-ui5-stable="menu"
					tabindex="0"
				>
					{{#if showLogoInMenuButton}}
					<span class="ui5-shellbar-logo" aria-label="{{_logoText}}" title="{{_logoText}}">
						<slot name="logo"></slot>
					</span>
					{{/if}}


					{{#if showTitleInMenuButton}}
					<div class="ui5-shellbar-menu-button-title">
						{{primaryTitle}}
						{{#if secondaryTitle}}
							<div style="display: block" class="ui5-shellbar-secondary-title" data-ui5-stable="secondary-title">{{secondaryTitle}}</div>
						{{/if}}
					</div>
					{{/if}}

					<ui5-icon class="ui5-shellbar-menu-button-arrow" name="slim-arrow-down">
					</ui5-icon>
				</button>
			{{/if}}
		{{/if}}

		{{#unless hasMenuItems}}
		{{#if hasMenuItems}}
			<slot name="menuItems"></slot>
		{{/if}}

		{{#if _isSBreakpoint}}
			{{#if hasLogo}}
				{{> singleLogo}}
			{{/if}}
		{{else}}
			{{> combinedLogo}}
		{{/if}}
		{{/unless}}

	</div>
	{{#if hasMidContent}}
		<div class="ui5-shellbar-overflow-container ui5-shellbar-mid-content">
			<slot name="midContent"></slot>
		</div>
	{{/if}}
		<div class="ui5-shellbar-overflow-container ui5-shellbar-overflow-container-right">


				{{#if _isFullVariant}}
					{{#unless _isSBreakpoint}}
						{{#if hasAdditionalContext}}
						{{#if additionalContextStart}}
									{{#if hasVisibleAdditionalContextStart}}
										<div class="ui5-shellbar-separator ui5-shellbar-separator-start"></div>
									{{/if}}
								{{/if}}
							<div class="ui5-shellbar-overflow-container-additional-content">

								{{#each additionalContextStart}}
									<slot name="{{this._individualSlot}}"></slot>
								{{/each}}
									<div class="ui5-shellbar-spacer"></div>
								{{#each additionalContextEnd}}
									<slot name="{{this._individualSlot}}"></slot>
								{{/each}}

							</div>
							{{#if additionalContextEnd}}
									{{#if hasVisibleAdditionalContextEnd}}
										<div class="ui5-shellbar-separator ui5-shellbar-separator-end"></div>
									{{/if}}
								{{/if}}
						{{/if}}
					{{/unless}}
				{{/if}}
			<div class="ui5-shellbar-overflow-container-right-child">
				{{#if _isFullVariant}}
					{{#if _isXXLBreakpoint}}
						{{#if hasSearchField}}
						<slot name="searchField"></slot>
						{{/if}}
					{{/if}}
					{{#unless _isXXLBreakpoint }}
						{{#if hasSearchField}}
							{{#if _showFullWidthSearch}}
								<div class="ui5-shellbar-search-full-width-wrapper" style="{{styles.searchField}}">
									<div class="ui5-shellbar-search-full-field">
										<slot name="searchField"></slot>
									</div>
									<ui5-button
										@click={{_handleCancelButtonPress}}
										class="ui5-shellbar-button ui5-shellbar-cancel-button"
										data-ui5-stable="cancel-search"
									>
										{{_cancelBtnText}}
									</ui5-button>
								</div>
							{{/if}}

							<div class="ui5-shellbar-search-field" style="{{styles.searchField}}">
								{{#unless _showFullWidthSearch}}
								<slot name="searchField"></slot>
								{{/unless}}
							</div>

							<ui5-button
								id="{{this._id}}-item-1"
								class="{{classes.items.search}} ui5-shellbar-button ui5-shellbar-search-button ui5-shellbar-search-item-for-arrow-nav"
								icon="sap-icon://search"
								data-ui5-text="Search"
								data-ui5-notifications-count="{{notificationsCount}}"
								data-ui5-stable="toggle-search"
								@click={{_handleSearchIconPress}}
								tooltip="{{_searchText}}"
								.accessibilityAttributes={{accInfo.search.accessibilityAttributes}}
							></ui5-button>
						{{/if}}
					{{/unless}}
					{{#if hasAssistant}}
						<slot name="assistant"></slot>
					{{/if}}
				{{/if}}

				{{#if showNotifications}}
					<ui5-button id="{{this._id}}-item-2"
						class="{{classes.items.notification}} ui5-shellbar-button ui5-shellbar-bell-button ui5-shellbar-items-for-arrow-nav"
						icon="sap-icon://bell" data-ui5-text="Notifications"
						data-ui5-notifications-count="{{notificationsCount}}" @click={{_handleNotificationsPress}}
						tooltip="{{_notificationsText}}"
						.accessibilityAttributes={{accInfo.notifications.accessibilityAttributes}}
						data-ui5-stable="notifications"></ui5-button>
				{{/if}}

				{{#each customItemsInfo}}
					<ui5-button
						id="{{this.id}}"
						style="{{this.styles}}"
						class="{{this.classes}} ui5-shellbar-items-for-arrow-nav"
						icon="{{this.icon}}"
						tooltip="{{this.title}}"
						data-count="{{this.count}}"
						data-ui5-notifications-count="{{../notificationsCount}}"
						data-ui5-external-action-item-id="{{this.refItemid}}"
						data-ui5-stable="{{stableDomRef}}"
						@click={{this.press}}
					></ui5-button>
				{{/each}}


				<ui5-button
					id="{{this._id}}-item-5"
					class="{{classes.items.overflow}} ui5-shellbar-button ui5-shellbar-overflow-button  ui5-shellbar-items-for-arrow-nav"
					icon="sap-icon://overflow"
					data-count="{{_overflowNotifications}}"
					@click="{{_handleOverflowPress}}"
					tooltip="{{_overflowText}}"
					.accessibilityAttributes={{accInfo.overflow.accessibilityAttributes}}
					data-ui5-stable="overflow"
				></ui5-button>

				{{#if hasProfile}}
					{{> profileButton}}
				{{/if}}

				{{#if showProductSwitch}}
					<ui5-button
						id="{{this._id}}-item-4"
						class="{{classes.items.product}} ui5-shellbar-no-overflow-button ui5-shellbar-button ui5-shellbar-button-product-switch ui5-shellbar-items-for-arrow-nav"
						icon="sap-icon://grid"
						data-ui5-text="Product Switch"
						@click={{_handleProductSwitchPress}}
						tooltip="{{_productsText}}"
						.accessibilityAttributes={{accInfo.products.accessibilityAttributes}}
						data-ui5-stable="product-switch"
					></ui5-button>
				{{/if}}
			</div>
		</div>
</header>

{{#*inline "profileButton"}}
	<ui5-button
		profile-btn
		id="{{this._id}}-item-3"
		@click={{_handleProfilePress}}
		tooltip="{{_profileText}}"
		class="ui5-shellbar-button ui5-shellbar-image-button ui5-shellbar-no-overflow-button ui5-shellbar-items-for-arrow-nav"
		.accessibilityAttributes={{accInfo.profile.accessibilityAttributes}}
		data-ui5-stable="profile"
	>
		<slot name="profile"></slot>
	</ui5-button>
{{/inline}}


{{#*inline "singleLogo"}}
	<span class="ui5-shellbar-logo" role="{{accLogoRole}}" aria-label="{{_logoText}}" title="{{_logoText}}"
		@click="{{_logoPress}}" @keydown="{{_logoKeydown}}" @keyup="{{_logoKeyup}}" tabindex="0"
		data-ui5-stable="logo">
		<slot name="logo"></slot>
	</span>
{{/inline}}

{{#*inline "combinedLogo"}}
<div class="ui5-shellbar-logo-area" @click="{{_logoPress}}" tabindex="0" @keydown="{{_logoKeydown}}" @keyup="{{_logoKeyup}}">
	{{#if hasLogo}}
		<span class="ui5-shellbar-logo"
			role="{{accLogoRole}}"
			aria-label="{{_logoText}}"
			title="{{_logoText}}"
			@click="{{_logoPress}}"
			@keydown="{{_logoKeydown}}"
			@keyup="{{_logoKeyup}}"
			data-ui5-stable="logo"
		>
			<slot name="logo"></slot>
		</span>
	{{/if}}
	<div class="ui5-shellbar-headings">
		{{#if primaryTitle}}
		<h1 class="ui5-shellbar-title">
			<bdi>{{primaryTitle}}</bdi>
		</h1>
		{{/if}}
		{{#if secondaryTitle}}
			{{#if primaryTitle}}
			<h2 class="ui5-shellbar-secondary-title" data-ui5-stable="secondary-title">{{secondaryTitle}}</h2>
			{{/if}}
		{{/if}}
	</div>
</div>
{{/inline}}

{{>include "./ShellBarPopover.hbs"}}