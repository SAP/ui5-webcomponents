<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Search</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<script data-ui5-config type="application/json">
		{
			"rtl": false
		}
	</script>

	<script src="%VITE_BUNDLE_PATH%" type="module"></script>
</head>

<body class="search sapUiSizeCompact">
	<ui5-label>Alignment of expanded and collapsed search:</ui5-label>
	<div class="container" style="border: 1px solid black; display: flex; padding: 4px; justify-content: flex-end;">
		<ui5-search-field expanded></ui5-search-field>
		<ui5-search-field></ui5-search-field>
	</div>
	<div class="container" style="padding-top: 1rem; display: flex; flex-direction: column;">
		<ui5-label>Initially expanded search with clear icon, value</ui5-label>
		<ui5-search-field id="search" value="Test" expanded show-clear-icon></ui5-search-field>
	</div>
	<div class="container" style="padding-top: 1rem; display: flex; flex-direction: column;">
		<ui5-label>Initially expanded search with scope</ui5-label>
		<ui5-search id="scoped-search" expanded show-scope>
			<ui5-search-field-scope-option text="All" slot="scopeOptions"></ui5-search-field-scope-option>
			<ui5-search-field-scope-option text="Apps" selected slot="scopeOptions"></ui5-search-field-scope-option>
			<ui5-search-field-scope-option text="Products" slot="scopeOptions"></ui5-search-field-scope-option>
		</ui5-search>
	</div>
	<div class="container" style="padding-top: 1rem; display: flex; flex-direction: column;">
		<ui5-label>Collapsed search</ui5-label>
		<div class="container" style="border: 1px solid black; display: flex; padding: 4px; justify-content: flex-end;">
			<ui5-search></ui5-search>
		</div>
	</div>

	<div class="container">
		<ui5-label>Search with Suggestions</ui5-label>
		<ui5-search id="search" show-more more-button-text="Show all search results [N]" header-text="Oh, there are no results" subheader-text="You can try the following" expanded show-clear-icon placeholder="Placeholder">
			<ui5-search-item-group header-text="Group Header">
				<ui5-search-item heading-text="List Item" icon="history" ></ui5-search-item>
				<ui5-search-item heading-text="List Item" icon="search" selected ></ui5-search-item>
				<ui5-search-item heading-text="List Item" scope-name="prefix:" icon="search" ></ui5-search-item>
				<ui5-search-item heading-text="List Item" icon="history" ></ui5-search-item>
				<ui5-search-item heading-text="List Item" icon="history" ></ui5-search-item>
			</ui5-search-item-group>
			<ui5-search-item-group header-text="Group Header">
				<ui5-search-item heading-text="List Item" icon="history" ></ui5-search-item>
				<ui5-search-item heading-text="List Item" icon="history" ></ui5-search-item>
			</ui5-search-item-group>
		</ui5-search>
	</div>

	<div class="container">
		<ui5-label>Search with Illustration</ui5-label>
		<ui5-search expanded popup-mode="Illustration">
			<ui5-illustrated-message slot="illustration">
				<ui5-title slot="title" level="H1">Oh, there are no results</ui5-title>
				<div slot="subtitle">Change your search query</div>
			</ui5-illustrated-message>
		</ui5-search>
	</div>

	<div class="container">
		<ui5-label>Search with loading indicator</ui5-label>
		<ui5-search expanded popup-mode="Loading">
		</ui5-search>
	</div>

	<div class="container">
		<ui5-label>Search with Byline items</ui5-label>
		<ui5-search expanded>
			<ui5-search-item heading-text="Zikola Al Nour" subheading-text="Byline description Laborum ullamco ad reprehenderit" additional-text="Negative state of the item should overflow" additional-text-state="Negative">
				<ui5-avatar slot="avatar" initials="MH"></ui5-avatar>
			</ui5-search-item>

			<ui5-search-item heading-text="List Item" subheading-text="Byline description Laborum ullamco ad reprehenderit" icon="search" selected ></ui5-search-item>
			
		</ui5-search>
	</div>


	<div class="container">
		<ui5-label>Filtering</ui5-label>
		<ui5-search id="filtering" expanded show-clear-icon placeholder="Start typing ..."></ui5-search>
	</div>

	<script>
		const search = document.getElementById('search');
		const scopedSearch = document.getElementById('scoped-search');
		search.addEventListener('ui5-search', (event) => {
			console.log('search', event.target.value);
		});
		search.addEventListener('ui5-input', (event) => {
			console.log('input', event.target.value);
		});
		scopedSearch.addEventListener('ui5-scope-change', (event) => {
			console.log('scope-change', event.detail.item);
		});

		const data = [
			{ name: 'Red Apple', category: 'Fruit' },
			{ name: 'Apple', category: 'Fruit' },
			{ name: 'Apel', category: 'Vegetable' },
			{ name: 'Cucumber', category: 'Vegetable' },
			{ name: 'Orange', category: 'Fruit' },
			{ name: 'Tomato', category: 'Vegetable' },
		];

		const filtering = document.getElementById('filtering');
		filtering.addEventListener('ui5-input', (event) => {
			const value = event.target.value.toLowerCase();
			const filteredData = data.filter(item => item.name.toLowerCase().includes(value));
			
			// clear search items
			filtering.innerHTML = '';

			// create search items based on search
			const searchItems = filteredData.forEach(item => {
				const searchItem = document.createElement('ui5-search-item');
				searchItem.headingText = item.name;
				searchItem.icon = 'search';
				filtering.appendChild(searchItem);
			});
		});
	</script>
</body>
</html>
