{"version":3,"file":"06-using-i18n-for-apps.a1a37653.js","sources":["../../../docs/storybook/2-advanced/06-using-i18n-for-apps.mdx"],"sourcesContent":["import { Meta } from '@storybook/blocks';\n\n<Meta title=\"Docs/Advanced/Using i  n for apps\" />\n\n# UI5 Web Components i18n for Apps\n\n*This section explains how to use the UI5 Web Components `i18n` functionality for the purpose of your app's translatable texts.\nNone of the code below implies or requires the usage of UI5 Web Components, and can be used completely stand-alone.*\n\nThe `@ui5/webcomponents-base` package allows the usage of `i18n` functionality not just for UI5 Web Components,\nbut for apps as well.\n\n*Note:* This section is dedicated to apps. For information on how to set up `i18n` for your custom components, please see [Developing Web Components](./dev/Developing%20Web%20Components.md).\n\n## Step-by-Step Tutorial\n\nThis tutorial will show you how to use the UI5 Web Components `i18n` functionality for the purpose of your apps.\n\n### 1. Start by creating some `i18n` resources in `.properties` format in a directory that can be served, for example:\n\n|                 File                 |          Content           |\n| ------------------------------------ | -------------------------- |\n| `assets/messagebundle_de.properties` | `PLEASE_WAIT=Bitte warten` |\n| `assets/messagebundle_fr.properties` | `PLEASE_WAIT=Patientez.`   |\n| `assets/messagebundle_es.properties` | `PLEASE_WAIT=Espere`       |\n| `assets/messagebundle_en.properties` | `PLEASE_WAIT=Please wait`  |\n\n(This example demonstrates just one translatable text per file for simplicity. You can have any number of texts per file, each on a new line.)\n\n### 2. Import the following `i18n`-related modules to your app:\n\n```js\nimport parseProperties from \"@ui5/webcomponents-base/dist/PropertiesFileFormat.js\";\nimport { registerI18nLoader, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\n```\n\nThe first one provides support for `.properties` files, as used in the example, and the second one - the functions\nthat will allow you to take advantage of the `i18n` functionality.\n\n### 3. Register a loader function that can retrieve and process the actual content of your message bundles:\n\n```js\nconst supportedLocales = [\"en\", \"fr\", \"de\", \"es\"];\nsupportedLocales.forEach(localeToRegister => {\n\tregisterI18nLoader(\"myApp\", localeToRegister, async (localeId) => {\n\t\tconst props = await (await fetch(`./assets/messagebundle_${localeId}.properties`)).text();\n\t\treturn parseProperties(props);\n\t});\n});\n```\n\nThe first argument to `registerI18nLoader` is an ID that will be used to reference this message bundle, the second is the locale this loader can load, and the third is a function that can load and process the content for the specified package/locale combination.\n\n*Note:* For more assets, a loop is used to register a loader for each package/locale combination. The same loader function can be registered and its parameter can be used to distinguish which locale resource is requested.\n\n*Note:* This step takes care of registering assets only, no data will be fetched at this point.\n\n### 4. Get and use the bundle:\n\n```js\nconst bundle = await getI18nBundle(\"myApp\");\nconst pleaseWait = bundle.getText(\"PLEASE_WAIT\");\nconsole.log(\"Please wait in the current language is: \", pleaseWait);\n```\n\nYou can pass multiple additional values to `getText` for texts with placeholders.\n\nIf your text looks like this\n\n`CAROUSEL_DOT_TEXT=Item {0} of {1} displayed`\n\nyou can call `getText`\n\n`bundle.getText(\"CAROUSEL_DOT_TEXT\", 5, 20);`\n\nwhich will finally result in\n\n`Item 5 of 20 displayed`.\n\n### 5. Test your page using different languages, e.g. set `?sap-ui-language=de` in the URL or change the configuration.\n\n## Summary\n\nThe whole code would look like this:\n\n```js\nimport parseProperties from \"@ui5/webcomponents-base/dist/PropertiesFileFormat.js\";\nimport { registerI18nLoader, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\n\nconst supportedLocales = [\"en\", \"fr\", \"de\", \"es\"];\nsupportedLocales.forEach(localeToRegister => {\n\tregisterI18nLoader(\"myApp\", localeToRegister, async (localeId) => {\n\t\tconst props = await (await fetch(`./assets/messagebundle_${localeId}.properties`)).text();\n\t\treturn parseProperties(props);\n\t});\n});\n\nconst bundle = await getI18nBundle(\"myApp\");\n\nconst pleaseWait = bundle.getText(\"PLEASE_WAIT\");\nconsole.log(\"Please wait in the current language is: \", pleaseWait);\n```\n\nYou register your assets for all supported languages, then you fetch the data for the currently active language,\nget a reference to the bundle and call the `getText` method to get texts for your app.\n\n## Tips and Tricks\n\n - You can skip the `.properties` format support import\n\n ```js\nreturn await (await fetch(`./assets/messagebundle_${localeId}.json`)).json();\n ```\nand return the data directly in `.json` format if you want to load a little bit less code in the runtime.\n\n|              File              |              Content              |\n| ------------------------------ | --------------------------------- |\n| `assets/messagebundle_de.json` | `{\"PLEASE_WAIT\": \"Bitte warten\"}` |\n| `assets/messagebundle_fr.json` | `{\"PLEASE_WAIT\": \"Patientez.\"}`   |\n| `assets/messagebundle_es.json` | `{\"PLEASE_WAIT\": \"Espere\"}`       |\n| `assets/messagebundle_en.json` | `{\"PLEASE_WAIT\": \"Please wait\"}`  |\n\n\nNext: [Accessibility](../accessibility)\n"],"names":["MDXContent","props","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment","Meta"],"mappings":"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"}